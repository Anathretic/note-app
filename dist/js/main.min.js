"use strict";var BODY,NAV_ADD_BTN,NAV_DELETE_ALL_BTN,NOTE_AREA,POPUP,POPUP_CATEGORY_INPUT,POPUP_TEXT_INPUT,POPUP_ERROR_MSG,POPUP_SAVE_BTN,POPUP_CANCEL_BTN,NOTE_DELETE_BTN,RETURN_ARROW,CARD_ID,SELECTED_CATEGORY,main=function(){prepareDOMElements(),prepareDOMEvents()},prepareDOMElements=function(){BODY=document.querySelector("body"),NAV_ADD_BTN=document.querySelector(".nav__button-add"),NAV_DELETE_ALL_BTN=document.querySelector(".nav__button-deleteall"),NOTE_AREA=document.querySelector(".note-area"),POPUP=document.querySelector(".popup-shadow"),POPUP_CATEGORY_INPUT=document.querySelector("#category"),POPUP_TEXT_INPUT=document.querySelector("#text"),POPUP_ERROR_MSG=document.querySelector(".popup__error"),POPUP_SAVE_BTN=document.querySelector(".popup__button-save"),POPUP_CANCEL_BTN=document.querySelector(".popup__button-close"),NOTE_DELETE_BTN=document.getElementsByClassName("notecard__icon"),RETURN_ARROW=document.querySelector(".return__arrow"),CARD_ID=Math.random()},prepareDOMEvents=function(){oldNotes(),window.addEventListener("scroll",showArrow),document.addEventListener("keyup",function(t){return escapeCheck(t)}),NAV_ADD_BTN.addEventListener("click",showPopup),NAV_DELETE_ALL_BTN.addEventListener("click",deleteAllNotes),POPUP_SAVE_BTN.addEventListener("click",checkInputs),POPUP_CANCEL_BTN.addEventListener("click",closePopup)},showPopup=function(){POPUP.style.display="flex",BODY.classList.add("scroll-block")},closePopup=function(){POPUP.style.display="none",clearPopup()},checkInputs=function(){""!==POPUP_TEXT_INPUT.value&&"0"!==POPUP_CATEGORY_INPUT.options[POPUP_CATEGORY_INPUT.selectedIndex].value?createNote():POPUP_ERROR_MSG.style.visibility="visible"},clearPopup=function(){POPUP_CATEGORY_INPUT.selectedIndex=0,POPUP_TEXT_INPUT.value="",POPUP_ERROR_MSG.style.visibility="hidden",BODY.classList.remove("scroll-block")},createNote=function(){var t=document.createElement("li"),t=(t.classList.add("notecard"),t.setAttribute("id",CARD_ID),t.setAttribute("category",SELECTED_CATEGORY),t.setAttribute("text",POPUP_TEXT_INPUT.value),t.innerHTML='\n                    <div class="notecard__header">\n                        <h3 class="notecard__title">'.concat(SELECTED_CATEGORY,'</h3>\n                        <button class="notecard__icon" onclick="deleteNote(').concat(CARD_ID,')">\n                            <i class="fas fa-times icon"></i>\n                        </button>\n                    </div>\n                    <div class="notecard__body">\n                        ').concat(POPUP_TEXT_INPUT.value,"\n                    </div>"),NOTE_AREA.appendChild(t),checkCategory(t),CARD_ID++,closePopup(),{id:t.getAttribute("id"),category:t.getAttribute("category"),text:t.getAttribute("text")});localStorage.setItem("".concat(t.id),JSON.stringify(t))},oldNotes=function(){for(var t=0;t<localStorage.length;t++){var e=localStorage.key(t),e=JSON.parse(localStorage.getItem(e)),o=document.createElement("li");o.classList.add("notecard"),o.setAttribute("id",e.id),SELECTED_CATEGORY=e.category,o.innerHTML='\n\t\t\t\t\t\t<div class="notecard__header">\n\t\t\t\t\t\t\t<h3 class="notecard__title">'.concat(SELECTED_CATEGORY,'</h3>\n\t\t\t\t\t\t\t<button class="notecard__icon" onclick="deleteNote(').concat(e.id,')">\n\t\t\t\t\t\t\t\t<i class="fas fa-times icon"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="notecard__body">\n\t\t\t\t\t\t\t').concat(e.text,"\n\t\t\t\t\t\t</div>"),NOTE_AREA.appendChild(o),checkCategory(o)}},selectCategory=function(){SELECTED_CATEGORY=POPUP_CATEGORY_INPUT.options[POPUP_CATEGORY_INPUT.selectedIndex].text},checkCategory=function(t){switch(SELECTED_CATEGORY){case"Work":t.style.backgroundColor="#df2b20";break;case"School":t.style.backgroundColor="#d8b127";break;case"Home":t.style.backgroundColor="#6abc43";break;case"Shop":t.style.backgroundColor="#4e8ab1";break;case"Other":t.style.backgroundColor="#718e8b"}},deleteNote=function(t){var e=document.getElementById(t);localStorage.removeItem(t),NOTE_AREA.removeChild(e)},deleteAllNotes=function(){NOTE_AREA.textContent="",localStorage.clear()},showArrow=function(){100<window.scrollY?RETURN_ARROW.classList.add("active-arrow"):RETURN_ARROW.classList.remove("active-arrow")},escapeCheck=function(t){"Escape"===t.key&&closePopup()};document.addEventListener("DOMContentLoaded",main);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiQk9EWSIsIk5BVl9BRERfQlROIiwiTkFWX0RFTEVURV9BTExfQlROIiwiTk9URV9BUkVBIiwiUE9QVVAiLCJQT1BVUF9DQVRFR09SWV9JTlBVVCIsIlBPUFVQX1RFWFRfSU5QVVQiLCJQT1BVUF9FUlJPUl9NU0ciLCJQT1BVUF9TQVZFX0JUTiIsIlBPUFVQX0NBTkNFTF9CVE4iLCJOT1RFX0RFTEVURV9CVE4iLCJSRVRVUk5fQVJST1ciLCJTRUxFQ1RFRF9DQVRFR09SWSIsInByZXBhcmVET01FbGVtZW50cyIsIm1haW4iLCJwcmVwYXJlRE9NRXZlbnRzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsIkNBUkRfSUQiLCJNYXRoIiwicmFuZG9tIiwib2xkTm90ZXMiLCJhZGRFdmVudExpc3RlbmVyIiwid2luZG93Iiwic2hvd0Fycm93IiwiZSIsImVzY2FwZUNoZWNrIiwic2hvd1BvcHVwIiwiY2hlY2tJbnB1dHMiLCJkZWxldGVBbGxOb3RlcyIsInN0eWxlIiwiZGlzcGxheSIsImNsYXNzTGlzdCIsImFkZCIsImNsZWFyUG9wdXAiLCJjcmVhdGVOb3RlIiwidmFsdWUiLCJvcHRpb25zIiwic2VsZWN0ZWRJbmRleCIsInZpc2liaWxpdHkiLCJyZW1vdmUiLCJuZXdOb3RlIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImFwcGVuZENoaWxkIiwiY2hlY2tDYXRlZ29yeSIsImNsb3NlUG9wdXAiLCJjb25jYXQiLCJsb2NhbFN0b3JhZ2UiLCJwYXJzZSIsIm9sZE5vdGUiLCJpZCIsImlubmVySFRNTCIsImNhdGVnb3J5IiwidGV4dCIsInNlbGVjdENhdGVnb3J5IiwibG9jYWxTdG9yYWdlRGF0YSIsIkpTT04iLCJzdHJpbmdpZnkiLCJsZW5ndGgiLCJpIiwia2V5Iiwibm90ZSIsImJhY2tncm91bmRDb2xvciIsImdldEl0ZW0iLCJkZWxldGVOb3RlIiwibm90ZVRvRGVsZXRlIiwidGV4dENvbnRlbnQiLCJnZXRFbGVtZW50QnlJZCIsInJlbW92ZUl0ZW0iLCJyZW1vdmVDaGlsZCIsImNsZWFyIiwic2Nyb2xsWSJdLCJtYXBwaW5ncyI6ImFBQUEsSUFBSUEsS0FDQUMsWUFEQUQsbUJBQ0FDLFVBQ0FDLE1BQ0FDLHFCQUNBQyxpQkFDQUMsZ0JBQ0FDLGVBQ0FDLGlCQUNBQyxnQkFDQUMsYUFDQUMsUUFDQUMsa0JBRUFDLEtBQUFBLFdBRUpDLG1CQUFNQyxFQUVMQyxpQkFEQUYsQ0FFRCxFQUVNQSxtQkFBcUIsV0FDMUJiLEtBQUlnQixTQUFXQyxjQUFjLE1BQUMsRUFDOUJoQixZQUFXZSxTQUFXQyxjQUFjLGtCQUFDLEVBQ3JDZixtQkFBa0JjLFNBQVdDLGNBQWMsd0JBQUMsRUFDNUNkLFVBQVNhLFNBQVdDLGNBQWMsWUFBQyxFQUNuQ2IsTUFBS1ksU0FBV0MsY0FBYyxlQUFDLEVBQy9CWixxQkFBb0JXLFNBQVdDLGNBQWMsV0FBQyxFQUM5Q1gsaUJBQWdCVSxTQUFXQyxjQUFjLE9BQUMsRUFDMUNWLGdCQUFlUyxTQUFXQyxjQUFjLGVBQUMsRUFDekNULGVBQWNRLFNBQVdDLGNBQWMscUJBQUMsRUFDeENSLGlCQUFnQk8sU0FBV0MsY0FBYyxzQkFBQyxFQUMxQ1AsZ0JBQWVNLFNBQVdFLHVCQUF1QixnQkFBQyxFQUNsRFAsYUFBWUssU0FBV0MsY0FBYyxnQkFBQyxFQUN0Q0UsUUFBT0MsS0FBT0MsT0FBTyxDQUV0QixFQUdDQyxpQkFBVSxXQUFWQSxTQUNPQyxFQUFQQyxPQUNBUixpQkFBU08sU0FBd0JFLFNBQUUsRUFBbkNULFNBQW9DTyxpQkFBa0IsUUFBQSxTQUFBRyxHQUFBLE9BQUFDLFlBQUFELENBQUEsQ0FBQSxDQUFBLEVBQ3REekIsWUFEdURzQixpQkFBQSxRQUFBSyxTQUFBLEVBRXZEMUIsbUJBRFlxQixpQkFBaUIsUUFBU0ssY0FBVSxFQUVoRHBCLGVBREFOLGlCQUFtQnFCLFFBQWlCTSxXQUFTQyxFQUU3Q3JCLGlCQURlYyxpQkFBaUIsUUFBU00sVUFBVyxDQUVyRCxFQUVNRCxVQUFZLFdBQ2pCeEIsTUFBSzJCLE1BQU1DLFFBQVEsT0FDbkJoQyxLQUFJaUMsVUFBVUMsSUFBSSxjQUFDLENBQ3BCLEVBR0M5QixXQUFZNEIsV0FBWjVCLE1BQ0ErQixNQUFXSCxRQUFDLE9BQ1pHLFdBQUEsQ0FFRCxFQUVFQyxZQUFZLFdBQ04sS0FBTjlCLGlCQUFNK0IsT0FBQSxNQUFBaEMscUJBQUFpQyxRQUFBakMscUJBQUFrQyxlQUFBRixNQURORCxXQUVBN0IsRUFFREEsZ0JBQUF3QixNQUFBUyxXQUFBLFNBQUQsRUFLQ2pDLFdBQWdCd0IsV0FGaEIxQixxQkFHZW9DLGNBQXFCLEVBQ3BDbkMsaUJBQUErQixNQUFBLEdBRUQ5QixnQkFBbUJ3QixNQUFBUyxXQUFISixTQUhmcEMsS0FJTTBDLFVBQVUxQixPQUFBQSxjQUFTMkIsQ0FIMUIsRUFNQ0QsV0FBUUUsV0FIUixJQUlBRixFQUFRRSxTQUFhRCxjQUFRckMsSUFBQUEsRUFpQzVCTSxHQXBDRDhCLEVBSU9ULFVBQVVDLElBQUEsVUFBQSxFQUhqQlEsRUFhQXZDLGFBQVUwQyxLQUFZSCxPQUFRLEVBWjlCQSxFQWFBSSxhQUFjSixXQUFROUIsaUJBQUEsRUFadEI4QixFQWFPRSxhQUFFLE9BQUF0QyxpQkFBQStCLEtBQUEsRUFaVEssRUFhQUssVUFBWSw2R0FBQUMsT0FHbUJwQyxrQkFBQSxvRkFBQSxFQUFBb0MsT0FDWTdCLFFBQUEsK01BQUEsRUFBQTZCLE9BT3RDMUIsaUJBQWlCZSxNQUFBLDhCQUFBLEVBZHRCbEMsVUFnQlEwQyxZQUFHSSxDQUFnQixFQWYzQkgsY0FnQlVKLENBQVFRLEVBZmxCL0IsT0FpQk9nQyxHQWhCUEosV0FpQlNkLEVBRVlJLENBaEJwQmUsR0FpQkFELEVBQVFFLGFBQVMsSUFBQSxFQWhCakJDLFNBMEJBbkQsRUFBVTBDLGFBQW1CLFVBQUMsRUF6QjlCVSxLQTBCQVQsRUFBQUEsYUFBc0IsTUFBQSxDQXpCdkIsR0E2QkRHLGFBQU1PLFFBQWlCLEdBQUFSLE9BQUFTLEVBQWpCRCxFQUFjQSxFQUFTRSxLQUFBQyxVQUFBRixDQUFBLENBQUEsQ0ExQjdCLEVBOEJNWCxTQUFhLFdBM0JsQixJQTRCQSxJQUFRbEMsRUFBQUEsRUFBQUEsRUFBQUEsYUFBaUJnRCxPQUFBQyxDQUFBLEdBQUEsQ0EzQnhCLElBNEJBQyxFQUFLYixhQUFNYSxJQUFBRCxDQUFBLEVBQ1ZFLEVBQUtoQyxLQUFNaUMsTUFBQUEsYUFBa0JDLFFBQVNILENBQUEsQ0FBQSxFQUV2Q1gsRUFBYW5DLFNBQUEyQixjQUFBLElBQUEsRUEzQmJRLEVBNEJLbEIsVUFBTytCLElBQUFBLFVBQWUsRUEzQjNCYixFQTRCQ1AsYUFBQSxLQUFBUCxFQUFBZSxFQUFBLEVBM0JEeEMsa0JBNEJXeUIsRUFBQWlCLFNBM0JYSCxFQTRCS0UsVUFBT1csMkZBQUFBLE9BRURwRCxrQkFBQSwwRUFBQSxFQUFBb0MsT0FDNEJYLEVBQUFlLEdBQUEsK0pBQUEsRUFBQUosT0FLeENYLEVBQUFrQixLQUFBLHNCQUFBLEVBR0RwRCxVQUFNK0QsWUFBYWYsQ0FBYmUsRUFDTHBCLGNBQU1xQixDQUFlbkQsQ0E1QnJCLENBQ0QsRUFnQ01jLGVBQWlCLFdBN0J0QmxCLGtCQThCVXdELHFCQUFnQjlCLFFBQUFqQyxxQkFBQWtDLGVBQUFnQixJQTdCM0IsRUFpQ005QixjQUFZLFNBQUFzQyxHQTlCakIsT0ErQkl2QyxtQkE5QkgsSUErQkFiLE9BQ0FvRCxFQUFBaEMsTUFBTWlDLGdCQUFBLFVBOUJMLE1BZ0NGLElBQUEsU0FDQUQsRUFBQWhDLE1BQUFpQyxnQkFBQSxVQUVELE1BQ0MsSUFBSyxPQS9CSEQsRUFnQ0RoQixNQUFVaUIsZ0JBQUUsVUFDYixNQUNBLElBQUEsT0FFRGhELEVBQVFlLE1BQUNSLGdCQUFpQixVQWhDdkIsTUFDRCxJQUFLLFFBQ0p3QyxFQUFLaEMsTUFBTWlDLGdCQUFrQixTQUUvQixDQUNELEVBRU1FLFdBQWEsU0FBQWQsR0FDbEIsSUFBTWUsRUFBZW5ELFNBQVNxRCxlQUFlakIsQ0FBRSxFQUMvQ0gsYUFBYXFCLFdBQVdsQixDQUFFLEVBQzFCakQsVUFBVW9FLFlBQVlKLENBQVksQ0FDbkMsRUFFTXJDLGVBQWlCLFdBQ3RCM0IsVUFBVWlFLFlBQWMsR0FDeEJuQixhQUFhdUIsTUFBTSxDQUNwQixFQUVNL0MsVUFBWSxXQUNJLElBQWpCRCxPQUFPaUQsUUFDVjlELGFBQWFzQixVQUFVQyxJQUFJLGNBQWMsRUFFekN2QixhQUFhc0IsVUFBVVEsT0FBTyxjQUFjLENBRTlDLEVBRU1kLFlBQWMsU0FBQUQsR0FDTCxXQUFWQSxFQUFFb0MsS0FDTGYsV0FBVyxDQUViLEVBRUEvQixTQUFTTyxpQkFBaUIsbUJBQW9CVCxJQUFJIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IEJPRFlcclxubGV0IE5BVl9BRERfQlROXHJcbmxldCBOQVZfREVMRVRFX0FMTF9CVE5cclxubGV0IE5PVEVfQVJFQVxyXG5sZXQgUE9QVVBcclxubGV0IFBPUFVQX0NBVEVHT1JZX0lOUFVUXHJcbmxldCBQT1BVUF9URVhUX0lOUFVUXHJcbmxldCBQT1BVUF9FUlJPUl9NU0dcclxubGV0IFBPUFVQX1NBVkVfQlROXHJcbmxldCBQT1BVUF9DQU5DRUxfQlROXHJcbmxldCBOT1RFX0RFTEVURV9CVE5cclxubGV0IFJFVFVSTl9BUlJPV1xyXG5sZXQgQ0FSRF9JRFxyXG5sZXQgU0VMRUNURURfQ0FURUdPUllcclxuXHJcbmNvbnN0IG1haW4gPSAoKSA9PiB7XHJcblx0cHJlcGFyZURPTUVsZW1lbnRzKClcclxuXHRwcmVwYXJlRE9NRXZlbnRzKClcclxufVxyXG5cclxuY29uc3QgcHJlcGFyZURPTUVsZW1lbnRzID0gKCkgPT4ge1xyXG5cdEJPRFkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JylcclxuXHROQVZfQUREX0JUTiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZfX2J1dHRvbi1hZGQnKVxyXG5cdE5BVl9ERUxFVEVfQUxMX0JUTiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZfX2J1dHRvbi1kZWxldGVhbGwnKVxyXG5cdE5PVEVfQVJFQSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ub3RlLWFyZWEnKVxyXG5cdFBPUFVQID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwLXNoYWRvdycpXHJcblx0UE9QVVBfQ0FURUdPUllfSU5QVVQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2F0ZWdvcnknKVxyXG5cdFBPUFVQX1RFWFRfSU5QVVQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdGV4dCcpXHJcblx0UE9QVVBfRVJST1JfTVNHID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19lcnJvcicpXHJcblx0UE9QVVBfU0FWRV9CVE4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2J1dHRvbi1zYXZlJylcclxuXHRQT1BVUF9DQU5DRUxfQlROID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19idXR0b24tY2xvc2UnKVxyXG5cdE5PVEVfREVMRVRFX0JUTiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ25vdGVjYXJkX19pY29uJylcclxuXHRSRVRVUk5fQVJST1cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmV0dXJuX19hcnJvdycpXHJcblx0Q0FSRF9JRCA9IE1hdGgucmFuZG9tKClcclxuXHRTRUxFQ1RFRF9DQVRFR09SWVxyXG59XHJcblxyXG5jb25zdCBwcmVwYXJlRE9NRXZlbnRzID0gKCkgPT4ge1xyXG5cdG9sZE5vdGVzKClcclxuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgc2hvd0Fycm93KVxyXG5cdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZSA9PiBlc2NhcGVDaGVjayhlKSlcclxuXHROQVZfQUREX0JUTi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNob3dQb3B1cClcclxuXHROQVZfREVMRVRFX0FMTF9CVE4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBkZWxldGVBbGxOb3RlcylcclxuXHRQT1BVUF9TQVZFX0JUTi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNoZWNrSW5wdXRzKVxyXG5cdFBPUFVQX0NBTkNFTF9CVE4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVBvcHVwKVxyXG59XHJcblxyXG5jb25zdCBzaG93UG9wdXAgPSAoKSA9PiB7XHJcblx0UE9QVVAuc3R5bGUuZGlzcGxheSA9ICdmbGV4J1xyXG5cdEJPRFkuY2xhc3NMaXN0LmFkZCgnc2Nyb2xsLWJsb2NrJylcclxufVxyXG5cclxuY29uc3QgY2xvc2VQb3B1cCA9ICgpID0+IHtcclxuXHRQT1BVUC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcblx0Y2xlYXJQb3B1cCgpXHJcbn1cclxuXHJcbmNvbnN0IGNoZWNrSW5wdXRzID0gKCkgPT4ge1xyXG5cdGlmIChQT1BVUF9URVhUX0lOUFVULnZhbHVlICE9PSAnJyAmJiBQT1BVUF9DQVRFR09SWV9JTlBVVC5vcHRpb25zW1BPUFVQX0NBVEVHT1JZX0lOUFVULnNlbGVjdGVkSW5kZXhdLnZhbHVlICE9PSAnMCcpIHtcclxuXHRcdGNyZWF0ZU5vdGUoKVxyXG5cdH0gZWxzZSB7XHJcblx0XHRQT1BVUF9FUlJPUl9NU0cuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJ1xyXG5cdH1cclxufVxyXG5cclxuY29uc3QgY2xlYXJQb3B1cCA9ICgpID0+IHtcclxuXHRQT1BVUF9DQVRFR09SWV9JTlBVVC5zZWxlY3RlZEluZGV4ID0gMFxyXG5cdFBPUFVQX1RFWFRfSU5QVVQudmFsdWUgPSAnJ1xyXG5cdFBPUFVQX0VSUk9SX01TRy5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbidcclxuXHRCT0RZLmNsYXNzTGlzdC5yZW1vdmUoJ3Njcm9sbC1ibG9jaycpXHJcbn1cclxuXHJcbmNvbnN0IGNyZWF0ZU5vdGUgPSAoKSA9PiB7XHJcblx0Y29uc3QgbmV3Tm90ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJylcclxuXHRuZXdOb3RlLmNsYXNzTGlzdC5hZGQoJ25vdGVjYXJkJylcclxuXHRuZXdOb3RlLnNldEF0dHJpYnV0ZSgnaWQnLCBDQVJEX0lEKVxyXG5cdG5ld05vdGUuc2V0QXR0cmlidXRlKCdjYXRlZ29yeScsIFNFTEVDVEVEX0NBVEVHT1JZKVxyXG5cdG5ld05vdGUuc2V0QXR0cmlidXRlKCd0ZXh0JywgUE9QVVBfVEVYVF9JTlBVVC52YWx1ZSlcclxuXHRuZXdOb3RlLmlubmVySFRNTCA9IGBcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibm90ZWNhcmRfX2hlYWRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3M9XCJub3RlY2FyZF9fdGl0bGVcIj4ke1NFTEVDVEVEX0NBVEVHT1JZfTwvaDM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJub3RlY2FyZF9faWNvblwiIG9uY2xpY2s9XCJkZWxldGVOb3RlKCR7Q0FSRF9JRH0pXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhcyBmYS10aW1lcyBpY29uXCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibm90ZWNhcmRfX2JvZHlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHtQT1BVUF9URVhUX0lOUFVULnZhbHVlfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PmBcclxuXHROT1RFX0FSRUEuYXBwZW5kQ2hpbGQobmV3Tm90ZSlcclxuXHRjaGVja0NhdGVnb3J5KG5ld05vdGUpXHJcblx0Q0FSRF9JRCsrXHJcblx0Y2xvc2VQb3B1cCgpXHJcblxyXG5cdGNvbnN0IGxvY2FsU3RvcmFnZURhdGEgPSB7XHJcblx0XHRpZDogbmV3Tm90ZS5nZXRBdHRyaWJ1dGUoJ2lkJyksXHJcblx0XHRjYXRlZ29yeTogbmV3Tm90ZS5nZXRBdHRyaWJ1dGUoJ2NhdGVnb3J5JyksXHJcblx0XHR0ZXh0OiBuZXdOb3RlLmdldEF0dHJpYnV0ZSgndGV4dCcpLFxyXG5cdH1cclxuXHJcblx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oYCR7bG9jYWxTdG9yYWdlRGF0YS5pZH1gLCBKU09OLnN0cmluZ2lmeShsb2NhbFN0b3JhZ2VEYXRhKSlcclxufVxyXG5cclxuY29uc3Qgb2xkTm90ZXMgPSAoKSA9PiB7XHJcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhbFN0b3JhZ2UubGVuZ3RoOyBpKyspIHtcclxuXHRcdGxldCBrZXkgPSBsb2NhbFN0b3JhZ2Uua2V5KGkpXHJcblx0XHRsZXQgdmFsdWUgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSkpXHJcblxyXG5cdFx0Y29uc3Qgb2xkTm90ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJylcclxuXHRcdG9sZE5vdGUuY2xhc3NMaXN0LmFkZCgnbm90ZWNhcmQnKVxyXG5cdFx0b2xkTm90ZS5zZXRBdHRyaWJ1dGUoJ2lkJywgdmFsdWUuaWQpXHJcblx0XHRTRUxFQ1RFRF9DQVRFR09SWSA9IHZhbHVlLmNhdGVnb3J5XHJcblx0XHRvbGROb3RlLmlubmVySFRNTCA9IGBcclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm5vdGVjYXJkX19oZWFkZXJcIj5cclxuXHRcdFx0XHRcdFx0XHQ8aDMgY2xhc3M9XCJub3RlY2FyZF9fdGl0bGVcIj4ke1NFTEVDVEVEX0NBVEVHT1JZfTwvaDM+XHJcblx0XHRcdFx0XHRcdFx0PGJ1dHRvbiBjbGFzcz1cIm5vdGVjYXJkX19pY29uXCIgb25jbGljaz1cImRlbGV0ZU5vdGUoJHt2YWx1ZS5pZH0pXCI+XHJcblx0XHRcdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhcyBmYS10aW1lcyBpY29uXCI+PC9pPlxyXG5cdFx0XHRcdFx0XHRcdDwvYnV0dG9uPlxyXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm5vdGVjYXJkX19ib2R5XCI+XHJcblx0XHRcdFx0XHRcdFx0JHt2YWx1ZS50ZXh0fVxyXG5cdFx0XHRcdFx0XHQ8L2Rpdj5gXHJcblx0XHROT1RFX0FSRUEuYXBwZW5kQ2hpbGQob2xkTm90ZSlcclxuXHRcdGNoZWNrQ2F0ZWdvcnkob2xkTm90ZSlcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IHNlbGVjdENhdGVnb3J5ID0gKCkgPT4ge1xyXG5cdFNFTEVDVEVEX0NBVEVHT1JZID0gUE9QVVBfQ0FURUdPUllfSU5QVVQub3B0aW9uc1tQT1BVUF9DQVRFR09SWV9JTlBVVC5zZWxlY3RlZEluZGV4XS50ZXh0XHJcbn1cclxuXHJcbmNvbnN0IGNoZWNrQ2F0ZWdvcnkgPSBub3RlID0+IHtcclxuXHRzd2l0Y2ggKFNFTEVDVEVEX0NBVEVHT1JZKSB7XHJcblx0XHRjYXNlICdXb3JrJzpcclxuXHRcdFx0bm90ZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI2RmMmIyMCdcclxuXHRcdFx0YnJlYWtcclxuXHRcdGNhc2UgJ1NjaG9vbCc6XHJcblx0XHRcdG5vdGUuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNkOGIxMjcnXHJcblx0XHRcdGJyZWFrXHJcblx0XHRjYXNlICdIb21lJzpcclxuXHRcdFx0bm90ZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnIzZhYmM0MydcclxuXHRcdFx0YnJlYWtcclxuXHRcdGNhc2UgJ1Nob3AnOlxyXG5cdFx0XHRub3RlLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjNGU4YWIxJ1xyXG5cdFx0XHRicmVha1xyXG5cdFx0Y2FzZSAnT3RoZXInOlxyXG5cdFx0XHRub3RlLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjNzE4ZThiJ1xyXG5cdFx0XHRicmVha1xyXG5cdH1cclxufVxyXG5cclxuY29uc3QgZGVsZXRlTm90ZSA9IGlkID0+IHtcclxuXHRjb25zdCBub3RlVG9EZWxldGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZClcclxuXHRsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShpZClcclxuXHROT1RFX0FSRUEucmVtb3ZlQ2hpbGQobm90ZVRvRGVsZXRlKVxyXG59XHJcblxyXG5jb25zdCBkZWxldGVBbGxOb3RlcyA9ICgpID0+IHtcclxuXHROT1RFX0FSRUEudGV4dENvbnRlbnQgPSAnJ1xyXG5cdGxvY2FsU3RvcmFnZS5jbGVhcigpXHJcbn1cclxuXHJcbmNvbnN0IHNob3dBcnJvdyA9ICgpID0+IHtcclxuXHRpZiAod2luZG93LnNjcm9sbFkgPiAxMDApIHtcclxuXHRcdFJFVFVSTl9BUlJPVy5jbGFzc0xpc3QuYWRkKCdhY3RpdmUtYXJyb3cnKVxyXG5cdH0gZWxzZSB7XHJcblx0XHRSRVRVUk5fQVJST1cuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlLWFycm93JylcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IGVzY2FwZUNoZWNrID0gZSA9PiB7XHJcblx0aWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xyXG5cdFx0Y2xvc2VQb3B1cCgpXHJcblx0fVxyXG59XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgbWFpbilcclxuIl19
