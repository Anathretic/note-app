"use strict";var BODY,NAV_ADD_BTN,NAV_DELETE_ALL_BTN,NOTE_AREA,POPUP,POPUP_CONTAINER,POPUP_CATEGORY_INPUT,POPUP_TEXT_INPUT,POPUP_SAVE_BTN,POPUP_CANCEL_BTN,NOTE_DELETE_BTN,RETURN_ARROW,CARD_ID,SELECTED_CATEGORY,main=function(){prepareDOMElements(),prepareDOMEvents()},prepareDOMElements=function(){BODY=document.querySelector("body"),NAV_ADD_BTN=document.querySelector(".nav__button-add"),NAV_DELETE_ALL_BTN=document.querySelector(".nav__button-deleteall"),NOTE_AREA=document.querySelector(".note-area"),POPUP=document.querySelector(".popup-shadow"),POPUP_CONTAINER=document.querySelector(".popup"),POPUP_CATEGORY_INPUT=document.querySelector("#category"),POPUP_TEXT_INPUT=document.querySelector("#text"),POPUP_SAVE_BTN=document.querySelector(".popup__button-save"),POPUP_CANCEL_BTN=document.querySelector(".popup__button-close"),NOTE_DELETE_BTN=document.getElementsByClassName("notecard__icon"),RETURN_ARROW=document.querySelector(".return__arrow"),CARD_ID=Math.random()},prepareDOMEvents=function(){oldNotes(),window.addEventListener("scroll",showArrow),document.addEventListener("keyup",function(e){return escapeCheck(e)}),POPUP.addEventListener("keyup",checkBtn),POPUP.addEventListener("click",checkBtn),NAV_ADD_BTN.addEventListener("click",showPopup),NAV_DELETE_ALL_BTN.addEventListener("click",deleteAllNotes),POPUP_SAVE_BTN.addEventListener("click",createNote),POPUP_CANCEL_BTN.addEventListener("click",closePopup)},showPopup=function(){POPUP.style.display="flex",BODY.classList.add("scroll-block")},closePopup=function(){clearPopup(),POPUP.style.display="none"},checkBtn=function(){""!==POPUP_TEXT_INPUT.value&&"0"!==POPUP_CATEGORY_INPUT.options[POPUP_CATEGORY_INPUT.selectedIndex].value?POPUP_SAVE_BTN.disabled=!1:POPUP_SAVE_BTN.disabled=!0},clearPopup=function(){POPUP_CONTAINER.scrollTo(0,0),POPUP_TEXT_INPUT.style.height="200px",POPUP_CATEGORY_INPUT.selectedIndex=0,POPUP_TEXT_INPUT.value="",POPUP_SAVE_BTN.disabled=!0,BODY.classList.remove("scroll-block")},createNote=function(){var e=document.createElement("li"),e=(e.classList.add("notecard"),e.setAttribute("id",CARD_ID),e.setAttribute("category",SELECTED_CATEGORY),e.setAttribute("text",POPUP_TEXT_INPUT.value),e.innerHTML='\n                    <div class="notecard__header">\n                        <h3 class="notecard__title">'.concat(SELECTED_CATEGORY,'</h3>\n                        <button class="notecard__icon" onclick="deleteNote(').concat(CARD_ID,')">\n                            <i class="fas fa-times icon"></i>\n                        </button>\n                    </div>\n                    <div class="notecard__body">\n                        ').concat(POPUP_TEXT_INPUT.value,"\n                    </div>"),NOTE_AREA.appendChild(e),checkCategory(e),CARD_ID++,closePopup(),{id:e.getAttribute("id"),category:e.getAttribute("category"),text:e.getAttribute("text")});localStorage.setItem("".concat(e.id),JSON.stringify(e))},oldNotes=function(){for(var e=0;e<localStorage.length;e++){var t=localStorage.key(e),t=JSON.parse(localStorage.getItem(t)),o=document.createElement("li");o.classList.add("notecard"),o.setAttribute("id",t.id),SELECTED_CATEGORY=t.category,o.innerHTML='\n\t\t\t\t\t\t<div class="notecard__header">\n\t\t\t\t\t\t\t<h3 class="notecard__title">'.concat(SELECTED_CATEGORY,'</h3>\n\t\t\t\t\t\t\t<button class="notecard__icon" onclick="deleteNote(').concat(t.id,')">\n\t\t\t\t\t\t\t\t<i class="fas fa-times icon"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="notecard__body">\n\t\t\t\t\t\t\t').concat(t.text,"\n\t\t\t\t\t\t</div>"),NOTE_AREA.appendChild(o),checkCategory(o)}},selectCategory=function(){SELECTED_CATEGORY=POPUP_CATEGORY_INPUT.options[POPUP_CATEGORY_INPUT.selectedIndex].text},checkCategory=function(e){switch(SELECTED_CATEGORY){case"Work":e.style.backgroundColor="#df2b20";break;case"School":e.style.backgroundColor="#d8b127";break;case"Home":e.style.backgroundColor="#6abc43";break;case"Shop":e.style.backgroundColor="#4e8ab1";break;case"Other":e.style.backgroundColor="#718e8b"}},deleteNote=function(e){var t=document.getElementById(e);localStorage.removeItem(e),NOTE_AREA.removeChild(t)},deleteAllNotes=function(){NOTE_AREA.textContent="",localStorage.clear()},showArrow=function(){100<window.scrollY?RETURN_ARROW.classList.add("active-arrow"):RETURN_ARROW.classList.remove("active-arrow")},escapeCheck=function(e){"Escape"===e.key&&closePopup()};document.addEventListener("DOMContentLoaded",main);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiQk9EWSIsIk5BVl9BRERfQlROIiwiTkFWX0RFTEVURV9BTExfQlROIiwiTk9URV9BUkVBIiwiUE9QVVAiLCJQT1BVUF9DT05UQUlORVIiLCJQT1BVUF9DQVRFR09SWV9JTlBVVCIsIlBPUFVQX1RFWFRfSU5QVVQiLCJQT1BVUF9TQVZFX0JUTiIsIlBPUFVQX0NBTkNFTF9CVE4iLCJOT1RFX0RFTEVURV9CVE4iLCJSRVRVUk5fQVJST1ciLCJTRUxFQ1RFRF9DQVRFR09SWSIsInByZXBhcmVET01FbGVtZW50cyIsIm1haW4iLCJwcmVwYXJlRE9NRXZlbnRzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsIkNBUkRfSUQiLCJNYXRoIiwicmFuZG9tIiwib2xkTm90ZXMiLCJhZGRFdmVudExpc3RlbmVyIiwid2luZG93Iiwic2hvd0Fycm93IiwiZSIsImVzY2FwZUNoZWNrIiwiY2hlY2tCdG4iLCJzaG93UG9wdXAiLCJjcmVhdGVOb3RlIiwiZGVsZXRlQWxsTm90ZXMiLCJzdHlsZSIsImRpc3BsYXkiLCJjbGFzc0xpc3QiLCJhZGQiLCJjbGVhclBvcHVwIiwidmFsdWUiLCJvcHRpb25zIiwic2VsZWN0ZWRJbmRleCIsImRpc2FibGVkIiwicmVtb3ZlIiwibmV3Tm90ZSIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJhcHBlbmRDaGlsZCIsImNoZWNrQ2F0ZWdvcnkiLCJjbG9zZVBvcHVwIiwiY29uY2F0IiwibG9jYWxTdG9yYWdlIiwicGFyc2UiLCJvbGROb3RlIiwiaWQiLCJpbm5lckhUTUwiLCJjYXRlZ29yeSIsInRleHQiLCJzZWxlY3RDYXRlZ29yeSIsImxvY2FsU3RvcmFnZURhdGEiLCJKU09OIiwic3RyaW5naWZ5IiwibGVuZ3RoIiwiaSIsImtleSIsIm5vdGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJnZXRJdGVtIiwiZGVsZXRlTm90ZSIsIm5vdGVUb0RlbGV0ZSIsInRleHRDb250ZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJyZW1vdmVJdGVtIiwicmVtb3ZlQ2hpbGQiLCJjbGVhciIsInNjcm9sbFkiXSwibWFwcGluZ3MiOiJhQUFBLElBQUlBLEtBQ0FDLFlBREFELG1CQUNBQyxVQUNBQyxNQUNBQyxnQkFDQUMscUJBQ0FDLGlCQUNBQyxlQUNBQyxpQkFDQUMsZ0JBQ0FDLGFBQ0FDLFFBQ0FDLGtCQUVBQyxLQUFBQSxXQUVKQyxtQkFBTUMsRUFFTEMsaUJBREFGLENBRUQsRUFFTUEsbUJBQXFCLFdBQzFCYixLQUFJZ0IsU0FBV0MsY0FBYyxNQUFDLEVBQzlCaEIsWUFBV2UsU0FBV0MsY0FBYyxrQkFBQyxFQUNyQ2YsbUJBQWtCYyxTQUFXQyxjQUFjLHdCQUFDLEVBQzVDZCxVQUFTYSxTQUFXQyxjQUFjLFlBQUMsRUFDbkNiLE1BQUtZLFNBQVdDLGNBQWMsZUFBQyxFQUMvQlosZ0JBQWVXLFNBQVdDLGNBQWMsUUFBQyxFQUN6Q1gscUJBQW9CVSxTQUFXQyxjQUFjLFdBQUMsRUFDOUNWLGlCQUFnQlMsU0FBV0MsY0FBYyxPQUFDLEVBQzFDVCxlQUFjUSxTQUFXQyxjQUFjLHFCQUFDLEVBQ3hDUixpQkFBZ0JPLFNBQVdDLGNBQWMsc0JBQUMsRUFDMUNQLGdCQUFlTSxTQUFXRSx1QkFBdUIsZ0JBQUMsRUFDbERQLGFBQVlLLFNBQVdDLGNBQWMsZ0JBQUMsRUFDdENFLFFBQU9DLEtBQU9DLE9BQU8sQ0FFdEIsRUFHQ0MsaUJBQVUsV0FBVkEsU0FDT0MsRUFBUEMsT0FDQVIsaUJBQVNPLFNBQXdCRSxTQUFFLEVBQW5DVCxTQUFvQ08saUJBQWtCLFFBQUEsU0FBQUcsR0FBQSxPQUFBQyxZQUFBRCxDQUFBLENBQUEsQ0FBQSxFQUN0RHRCLE1BRHVEbUIsaUJBQUEsUUFBQUssUUFBQSxFQUV2RHhCLE1BREttQixpQkFBaUIsUUFBUUssUUFBRUEsRUFFaEMzQixZQURNc0IsaUJBQWlCLFFBQVNLLFNBQVMsRUFFekMxQixtQkFEWXFCLGlCQUFpQixRQUFTTSxjQUFVLEVBRWhE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SyxRQUNKd0MsRUFBSy9CLE1BQU1nQyxnQkFBa0IsU0FFL0IsQ0FDRCxFQUVNRSxXQUFhLFNBQUFkLEdBQ2xCLElBQU1lLEVBQWVuRCxTQUFTcUQsZUFBZWpCLENBQUUsRUFDL0NILGFBQWFxQixXQUFXbEIsQ0FBRSxFQUMxQmpELFVBQVVvRSxZQUFZSixDQUFZLENBQ25DLEVBRU1wQyxlQUFpQixXQUN0QjVCLFVBQVVpRSxZQUFjLEdBQ3hCbkIsYUFBYXVCLE1BQU0sQ0FDcEIsRUFFTS9DLFVBQVksV0FDSSxJQUFqQkQsT0FBT2lELFFBQ1Y5RCxhQUFhdUIsVUFBVUMsSUFBSSxjQUFjLEVBRXpDeEIsYUFBYXVCLFVBQVVPLE9BQU8sY0FBYyxDQUU5QyxFQUVNZCxZQUFjLFNBQUFELEdBQ0wsV0FBVkEsRUFBRW9DLEtBQ0xmLFdBQVcsQ0FFYixFQUVBL0IsU0FBU08saUJBQWlCLG1CQUFvQlQsSUFBSSIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImxldCBCT0RZXHJcbmxldCBOQVZfQUREX0JUTlxyXG5sZXQgTkFWX0RFTEVURV9BTExfQlROXHJcbmxldCBOT1RFX0FSRUFcclxubGV0IFBPUFVQXHJcbmxldCBQT1BVUF9DT05UQUlORVJcclxubGV0IFBPUFVQX0NBVEVHT1JZX0lOUFVUXHJcbmxldCBQT1BVUF9URVhUX0lOUFVUXHJcbmxldCBQT1BVUF9TQVZFX0JUTlxyXG5sZXQgUE9QVVBfQ0FOQ0VMX0JUTlxyXG5sZXQgTk9URV9ERUxFVEVfQlROXHJcbmxldCBSRVRVUk5fQVJST1dcclxubGV0IENBUkRfSURcclxubGV0IFNFTEVDVEVEX0NBVEVHT1JZXHJcblxyXG5jb25zdCBtYWluID0gKCkgPT4ge1xyXG5cdHByZXBhcmVET01FbGVtZW50cygpXHJcblx0cHJlcGFyZURPTUV2ZW50cygpXHJcbn1cclxuXHJcbmNvbnN0IHByZXBhcmVET01FbGVtZW50cyA9ICgpID0+IHtcclxuXHRCT0RZID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpXHJcblx0TkFWX0FERF9CVE4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2X19idXR0b24tYWRkJylcclxuXHROQVZfREVMRVRFX0FMTF9CVE4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2X19idXR0b24tZGVsZXRlYWxsJylcclxuXHROT1RFX0FSRUEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubm90ZS1hcmVhJylcclxuXHRQT1BVUCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1zaGFkb3cnKVxyXG5cdFBPUFVQX0NPTlRBSU5FUiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cCcpXHJcblx0UE9QVVBfQ0FURUdPUllfSU5QVVQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2F0ZWdvcnknKVxyXG5cdFBPUFVQX1RFWFRfSU5QVVQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdGV4dCcpXHJcblx0UE9QVVBfU0FWRV9CVE4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2J1dHRvbi1zYXZlJylcclxuXHRQT1BVUF9DQU5DRUxfQlROID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19idXR0b24tY2xvc2UnKVxyXG5cdE5PVEVfREVMRVRFX0JUTiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ25vdGVjYXJkX19pY29uJylcclxuXHRSRVRVUk5fQVJST1cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmV0dXJuX19hcnJvdycpXHJcblx0Q0FSRF9JRCA9IE1hdGgucmFuZG9tKClcclxuXHRTRUxFQ1RFRF9DQVRFR09SWVxyXG59XHJcblxyXG5jb25zdCBwcmVwYXJlRE9NRXZlbnRzID0gKCkgPT4ge1xyXG5cdG9sZE5vdGVzKClcclxuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgc2hvd0Fycm93KVxyXG5cdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZSA9PiBlc2NhcGVDaGVjayhlKSlcclxuXHRQT1BVUC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGNoZWNrQnRuKVxyXG5cdFBPUFVQLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2hlY2tCdG4pXHJcblx0TkFWX0FERF9CVE4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaG93UG9wdXApXHJcblx0TkFWX0RFTEVURV9BTExfQlROLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZGVsZXRlQWxsTm90ZXMpXHJcblx0UE9QVVBfU0FWRV9CVE4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjcmVhdGVOb3RlKVxyXG5cdFBPUFVQX0NBTkNFTF9CVE4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVBvcHVwKVxyXG59XHJcblxyXG5jb25zdCBzaG93UG9wdXAgPSAoKSA9PiB7XHJcblx0UE9QVVAuc3R5bGUuZGlzcGxheSA9ICdmbGV4J1xyXG5cdEJPRFkuY2xhc3NMaXN0LmFkZCgnc2Nyb2xsLWJsb2NrJylcclxufVxyXG5cclxuY29uc3QgY2xvc2VQb3B1cCA9ICgpID0+IHtcclxuXHRjbGVhclBvcHVwKClcclxuXHRQT1BVUC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcbn1cclxuXHJcbmNvbnN0IGNoZWNrQnRuID0gKCkgPT4ge1xyXG5cdGlmIChQT1BVUF9URVhUX0lOUFVULnZhbHVlICE9PSAnJyAmJiBQT1BVUF9DQVRFR09SWV9JTlBVVC5vcHRpb25zW1BPUFVQX0NBVEVHT1JZX0lOUFVULnNlbGVjdGVkSW5kZXhdLnZhbHVlICE9PSAnMCcpIHtcclxuXHRcdFBPUFVQX1NBVkVfQlROLmRpc2FibGVkID0gZmFsc2VcclxuXHR9IGVsc2Uge1xyXG5cdFx0UE9QVVBfU0FWRV9CVE4uZGlzYWJsZWQgPSB0cnVlXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBjbGVhclBvcHVwID0gKCkgPT4ge1xyXG5cdFBPUFVQX0NPTlRBSU5FUi5zY3JvbGxUbygwLCAwKVxyXG5cdFBPUFVQX1RFWFRfSU5QVVQuc3R5bGUuaGVpZ2h0ID0gJzIwMHB4J1xyXG5cdFBPUFVQX0NBVEVHT1JZX0lOUFVULnNlbGVjdGVkSW5kZXggPSAwXHJcblx0UE9QVVBfVEVYVF9JTlBVVC52YWx1ZSA9ICcnXHJcblx0UE9QVVBfU0FWRV9CVE4uZGlzYWJsZWQgPSB0cnVlXHJcblx0Qk9EWS5jbGFzc0xpc3QucmVtb3ZlKCdzY3JvbGwtYmxvY2snKVxyXG59XHJcblxyXG5jb25zdCBjcmVhdGVOb3RlID0gKCkgPT4ge1xyXG5cdGNvbnN0IG5ld05vdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpXHJcblx0bmV3Tm90ZS5jbGFzc0xpc3QuYWRkKCdub3RlY2FyZCcpXHJcblx0bmV3Tm90ZS5zZXRBdHRyaWJ1dGUoJ2lkJywgQ0FSRF9JRClcclxuXHRuZXdOb3RlLnNldEF0dHJpYnV0ZSgnY2F0ZWdvcnknLCBTRUxFQ1RFRF9DQVRFR09SWSlcclxuXHRuZXdOb3RlLnNldEF0dHJpYnV0ZSgndGV4dCcsIFBPUFVQX1RFWFRfSU5QVVQudmFsdWUpXHJcblx0bmV3Tm90ZS5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm5vdGVjYXJkX19oZWFkZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzPVwibm90ZWNhcmRfX3RpdGxlXCI+JHtTRUxFQ1RFRF9DQVRFR09SWX08L2gzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwibm90ZWNhcmRfX2ljb25cIiBvbmNsaWNrPVwiZGVsZXRlTm90ZSgke0NBUkRfSUR9KVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXMgZmEtdGltZXMgaWNvblwiPjwvaT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm5vdGVjYXJkX19ib2R5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR7UE9QVVBfVEVYVF9JTlBVVC52YWx1ZX1cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5gXHJcblx0Tk9URV9BUkVBLmFwcGVuZENoaWxkKG5ld05vdGUpXHJcblx0Y2hlY2tDYXRlZ29yeShuZXdOb3RlKVxyXG5cdENBUkRfSUQrK1xyXG5cdGNsb3NlUG9wdXAoKVxyXG5cclxuXHRjb25zdCBsb2NhbFN0b3JhZ2VEYXRhID0ge1xyXG5cdFx0aWQ6IG5ld05vdGUuZ2V0QXR0cmlidXRlKCdpZCcpLFxyXG5cdFx0Y2F0ZWdvcnk6IG5ld05vdGUuZ2V0QXR0cmlidXRlKCdjYXRlZ29yeScpLFxyXG5cdFx0dGV4dDogbmV3Tm90ZS5nZXRBdHRyaWJ1dGUoJ3RleHQnKSxcclxuXHR9XHJcblxyXG5cdGxvY2FsU3RvcmFnZS5zZXRJdGVtKGAke2xvY2FsU3RvcmFnZURhdGEuaWR9YCwgSlNPTi5zdHJpbmdpZnkobG9jYWxTdG9yYWdlRGF0YSkpXHJcbn1cclxuXHJcbmNvbnN0IG9sZE5vdGVzID0gKCkgPT4ge1xyXG5cdGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYWxTdG9yYWdlLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRsZXQga2V5ID0gbG9jYWxTdG9yYWdlLmtleShpKVxyXG5cdFx0bGV0IHZhbHVlID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpKVxyXG5cclxuXHRcdGNvbnN0IG9sZE5vdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpXHJcblx0XHRvbGROb3RlLmNsYXNzTGlzdC5hZGQoJ25vdGVjYXJkJylcclxuXHRcdG9sZE5vdGUuc2V0QXR0cmlidXRlKCdpZCcsIHZhbHVlLmlkKVxyXG5cdFx0U0VMRUNURURfQ0FURUdPUlkgPSB2YWx1ZS5jYXRlZ29yeVxyXG5cdFx0b2xkTm90ZS5pbm5lckhUTUwgPSBgXHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJub3RlY2FyZF9faGVhZGVyXCI+XHJcblx0XHRcdFx0XHRcdFx0PGgzIGNsYXNzPVwibm90ZWNhcmRfX3RpdGxlXCI+JHtTRUxFQ1RFRF9DQVRFR09SWX08L2gzPlxyXG5cdFx0XHRcdFx0XHRcdDxidXR0b24gY2xhc3M9XCJub3RlY2FyZF9faWNvblwiIG9uY2xpY2s9XCJkZWxldGVOb3RlKCR7dmFsdWUuaWR9KVwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0PGkgY2xhc3M9XCJmYXMgZmEtdGltZXMgaWNvblwiPjwvaT5cclxuXHRcdFx0XHRcdFx0XHQ8L2J1dHRvbj5cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJub3RlY2FyZF9fYm9keVwiPlxyXG5cdFx0XHRcdFx0XHRcdCR7dmFsdWUudGV4dH1cclxuXHRcdFx0XHRcdFx0PC9kaXY+YFxyXG5cdFx0Tk9URV9BUkVBLmFwcGVuZENoaWxkKG9sZE5vdGUpXHJcblx0XHRjaGVja0NhdGVnb3J5KG9sZE5vdGUpXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBzZWxlY3RDYXRlZ29yeSA9ICgpID0+IHtcclxuXHRTRUxFQ1RFRF9DQVRFR09SWSA9IFBPUFVQX0NBVEVHT1JZX0lOUFVULm9wdGlvbnNbUE9QVVBfQ0FURUdPUllfSU5QVVQuc2VsZWN0ZWRJbmRleF0udGV4dFxyXG59XHJcblxyXG5jb25zdCBjaGVja0NhdGVnb3J5ID0gbm90ZSA9PiB7XHJcblx0c3dpdGNoIChTRUxFQ1RFRF9DQVRFR09SWSkge1xyXG5cdFx0Y2FzZSAnV29yayc6XHJcblx0XHRcdG5vdGUuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNkZjJiMjAnXHJcblx0XHRcdGJyZWFrXHJcblx0XHRjYXNlICdTY2hvb2wnOlxyXG5cdFx0XHRub3RlLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjZDhiMTI3J1xyXG5cdFx0XHRicmVha1xyXG5cdFx0Y2FzZSAnSG9tZSc6XHJcblx0XHRcdG5vdGUuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyM2YWJjNDMnXHJcblx0XHRcdGJyZWFrXHJcblx0XHRjYXNlICdTaG9wJzpcclxuXHRcdFx0bm90ZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnIzRlOGFiMSdcclxuXHRcdFx0YnJlYWtcclxuXHRcdGNhc2UgJ090aGVyJzpcclxuXHRcdFx0bm90ZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnIzcxOGU4YidcclxuXHRcdFx0YnJlYWtcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IGRlbGV0ZU5vdGUgPSBpZCA9PiB7XHJcblx0Y29uc3Qgbm90ZVRvRGVsZXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpXHJcblx0bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oaWQpXHJcblx0Tk9URV9BUkVBLnJlbW92ZUNoaWxkKG5vdGVUb0RlbGV0ZSlcclxufVxyXG5cclxuY29uc3QgZGVsZXRlQWxsTm90ZXMgPSAoKSA9PiB7XHJcblx0Tk9URV9BUkVBLnRleHRDb250ZW50ID0gJydcclxuXHRsb2NhbFN0b3JhZ2UuY2xlYXIoKVxyXG59XHJcblxyXG5jb25zdCBzaG93QXJyb3cgPSAoKSA9PiB7XHJcblx0aWYgKHdpbmRvdy5zY3JvbGxZID4gMTAwKSB7XHJcblx0XHRSRVRVUk5fQVJST1cuY2xhc3NMaXN0LmFkZCgnYWN0aXZlLWFycm93JylcclxuXHR9IGVsc2Uge1xyXG5cdFx0UkVUVVJOX0FSUk9XLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZS1hcnJvdycpXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBlc2NhcGVDaGVjayA9IGUgPT4ge1xyXG5cdGlmIChlLmtleSA9PT0gJ0VzY2FwZScpIHtcclxuXHRcdGNsb3NlUG9wdXAoKVxyXG5cdH1cclxufVxyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIG1haW4pXHJcbiJdfQ==
