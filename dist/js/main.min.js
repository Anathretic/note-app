"use strict";var BODY,NAV_ADD_BTN,NAV_DELETE_ALL_BTN,DATA_INFO_POPUP,DATA_INFO_POPUP_BTN,NOTE_AREA,POPUP,POPUP_CONTAINER,POPUP_CATEGORY_INPUT,POPUP_TEXT_INPUT,POPUP_SAVE_BTN,POPUP_CANCEL_BTN,NOTE_DELETE_BTN,RETURN_ARROW,CARD_ID,SELECTED_CATEGORY,main=function(){prepareDOMElements(),prepareDOMEvents()},prepareDOMElements=function(){BODY=document.querySelector("body"),NAV_ADD_BTN=document.querySelector(".nav__button-add"),NAV_DELETE_ALL_BTN=document.querySelector(".nav__button-deleteall"),DATA_INFO_POPUP=document.querySelector(".data-info-popup"),DATA_INFO_POPUP_BTN=document.querySelector(".data-info-popup__btn"),NOTE_AREA=document.querySelector(".note-area"),POPUP=document.querySelector(".popup-shadow"),POPUP_CONTAINER=document.querySelector(".popup"),POPUP_CATEGORY_INPUT=document.querySelector("#category"),POPUP_TEXT_INPUT=document.querySelector("#text"),POPUP_SAVE_BTN=document.querySelector(".popup__button-save"),POPUP_CANCEL_BTN=document.querySelector(".popup__button-close"),NOTE_DELETE_BTN=document.getElementsByClassName("notecard__icon"),RETURN_ARROW=document.querySelector(".return__arrow"),CARD_ID=Math.random()},prepareDOMEvents=function(){oldNotes(),window.addEventListener("scroll",showArrow),document.addEventListener("keyup",function(t){return escapeCheck(t)}),DATA_INFO_POPUP_BTN.addEventListener("click",handleDataInfoPopup),POPUP.addEventListener("keyup",checkBtn),POPUP.addEventListener("click",checkBtn),NAV_ADD_BTN.addEventListener("click",showPopup),NAV_DELETE_ALL_BTN.addEventListener("click",deleteAllNotes),POPUP_SAVE_BTN.addEventListener("click",createNote),POPUP_CANCEL_BTN.addEventListener("click",closePopup),showDataInfoPopup()},showDataInfoPopup=function(){localStorage.getItem("cookie")&&DATA_INFO_POPUP.classList.add("data-info-popup--inactive")},handleDataInfoPopup=function(){localStorage.setItem("cookie","true"),DATA_INFO_POPUP.classList.add("data-info-popup--inactive")},showPopup=function(){POPUP.style.display="flex",BODY.classList.add("scroll-block")},closePopup=function(){clearPopup(),POPUP.style.display="none"},checkBtn=function(){""!==POPUP_TEXT_INPUT.value&&"0"!==POPUP_CATEGORY_INPUT.options[POPUP_CATEGORY_INPUT.selectedIndex].value?POPUP_SAVE_BTN.disabled=!1:POPUP_SAVE_BTN.disabled=!0},clearPopup=function(){POPUP_CONTAINER.scrollTo(0,0),POPUP_TEXT_INPUT.style.height="200px",POPUP_CATEGORY_INPUT.selectedIndex=0,POPUP_TEXT_INPUT.value="",POPUP_SAVE_BTN.disabled=!0,BODY.classList.remove("scroll-block")},createNote=function(){var t=document.createElement("li"),t=(t.classList.add("notecard"),t.setAttribute("id",CARD_ID),t.setAttribute("category",SELECTED_CATEGORY),t.setAttribute("text",POPUP_TEXT_INPUT.value),t.innerHTML='\n                    <div class="notecard__header">\n                        <h3 class="notecard__title">'.concat(SELECTED_CATEGORY,'</h3>\n                        <button class="notecard__icon" onclick="deleteNote(').concat(CARD_ID,')">\n                            <i class="fas fa-times icon"></i>\n                        </button>\n                    </div>\n                    <div class="notecard__body">\n                        ').concat(POPUP_TEXT_INPUT.value,"\n                    </div>"),NOTE_AREA.appendChild(t),checkCategory(t),CARD_ID++,closePopup(),{id:t.getAttribute("id"),category:t.getAttribute("category"),text:t.getAttribute("text")});localStorage.setItem("".concat(t.id),JSON.stringify(t))},oldNotes=function(){for(var t=0;t<localStorage.length;t++){var e=localStorage.key(t),o=JSON.parse(localStorage.getItem(e));"cookie"!==e&&((e=document.createElement("li")).classList.add("notecard"),e.setAttribute("id",o.id),SELECTED_CATEGORY=o.category,e.innerHTML='\n\t\t\t\t\t\t<div class="notecard__header">\n\t\t\t\t\t\t\t<h3 class="notecard__title">'.concat(SELECTED_CATEGORY,'</h3>\n\t\t\t\t\t\t\t<button class="notecard__icon" onclick="deleteNote(').concat(o.id,')">\n\t\t\t\t\t\t\t\t<i class="fas fa-times icon"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="notecard__body">\n\t\t\t\t\t\t\t').concat(o.text,"\n\t\t\t\t\t\t</div>"),NOTE_AREA.appendChild(e),checkCategory(e))}},selectCategory=function(){SELECTED_CATEGORY=POPUP_CATEGORY_INPUT.options[POPUP_CATEGORY_INPUT.selectedIndex].text},checkCategory=function(t){switch(SELECTED_CATEGORY){case"Work":t.style.backgroundColor="#df2b20";break;case"School":t.style.backgroundColor="#d8b127";break;case"Home":t.style.backgroundColor="#6abc43";break;case"Shop":t.style.backgroundColor="#4e8ab1";break;case"Other":t.style.backgroundColor="#718e8b"}},deleteNote=function(t){var e=document.getElementById(t);localStorage.removeItem(t),NOTE_AREA.removeChild(e)},deleteAllNotes=function(){NOTE_AREA.textContent="",localStorage.clear()},showArrow=function(){100<window.scrollY?RETURN_ARROW.classList.add("active-arrow"):RETURN_ARROW.classList.remove("active-arrow")},escapeCheck=function(t){"Escape"===t.key&&closePopup()};document.addEventListener("DOMContentLoaded",main);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiQk9EWSIsIk5BVl9BRERfQlROIiwiTkFWX0RFTEVURV9BTExfQlROIiwiREFUQV9JTkZPX1BPUFVQIiwiREFUQV9JTkZPX1BPUFVQX0JUTiIsIk5PVEVfQVJFQSIsIlBPUFVQIiwiUE9QVVBfQ09OVEFJTkVSIiwiUE9QVVBfQ0FURUdPUllfSU5QVVQiLCJQT1BVUF9URVhUX0lOUFVUIiwiUE9QVVBfU0FWRV9CVE4iLCJQT1BVUF9DQU5DRUxfQlROIiwiTk9URV9ERUxFVEVfQlROIiwiUkVUVVJOX0FSUk9XIiwiU0VMRUNURURfQ0FURUdPUlkiLCJwcmVwYXJlRE9NRWxlbWVudHMiLCJtYWluIiwicHJlcGFyZURPTUV2ZW50cyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJDQVJEX0lEIiwiTWF0aCIsInJhbmRvbSIsIm9sZE5vdGVzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIndpbmRvdyIsInNob3dBcnJvdyIsImUiLCJlc2NhcGVDaGVjayIsImhhbmRsZURhdGFJbmZvUG9wdXAiLCJjaGVja0J0biIsInNob3dQb3B1cCIsImNyZWF0ZU5vdGUiLCJkZWxldGVBbGxOb3RlcyIsInNob3dEYXRhSW5mb1BvcHVwIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImNsYXNzTGlzdCIsImFkZCIsInN0eWxlIiwiZGlzcGxheSIsImNsb3NlUG9wdXAiLCJjbGVhclBvcHVwIiwidmFsdWUiLCJvcHRpb25zIiwic2VsZWN0ZWRJbmRleCIsImRpc2FibGVkIiwicmVtb3ZlIiwiaGVpZ2h0IiwiY3JlYXRlRWxlbWVudCIsIm5ld05vdGUiLCJzZXRBdHRyaWJ1dGUiLCJhcHBlbmRDaGlsZCIsIm9sZE5vdGUiLCJjaGVja0NhdGVnb3J5IiwibG9jYWxTdG9yYWdlRGF0YSIsImdldEF0dHJpYnV0ZSIsImNvbmNhdCIsImlkIiwiY2F0ZWdvcnkiLCJ0ZXh0Iiwic2VsZWN0Q2F0ZWdvcnkiLCJKU09OIiwic3RyaW5naWZ5IiwibGVuZ3RoIiwiaSIsImtleSIsIm5vdGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJpbm5lckhUTUwiLCJub3RlVG9EZWxldGUiLCJnZXRFbGVtZW50QnlJZCIsInJlbW92ZUl0ZW0iLCJkZWxldGVOb3RlIiwicmVtb3ZlQ2hpbGQiLCJ0ZXh0Q29udGVudCIsImNsZWFyIiwic2Nyb2xsWSJdLCJtYXBwaW5ncyI6ImFBQUEsSUFBSUEsS0FDQUMsWUFEQUQsbUJBQ0FDLGdCQUNBQyxvQkFDQUMsVUFDQUMsTUFDQUMsZ0JBQ0FDLHFCQUNBQyxpQkFDQUMsZUFDQUMsaUJBQ0FDLGdCQUNBQyxhQUNBQyxRQUNBQyxrQkFFQUMsS0FBQUEsV0FFSkMsbUJBQU1DLEVBRUxDLGlCQURBRixDQUVELEVBRU1BLG1CQUFxQixXQUMxQmYsS0FBSWtCLFNBQVdDLGNBQWMsTUFBQyxFQUM5QmxCLFlBQVdpQixTQUFXQyxjQUFjLGtCQUFDLEVBQ3JDakIsbUJBQWtCZ0IsU0FBV0MsY0FBYyx3QkFBQyxFQUM1Q2hCLGdCQUFlZSxTQUFXQyxjQUFjLGtCQUFDLEVBQ3pDZixvQkFBbUJjLFNBQVdDLGNBQWMsdUJBQUMsRUFDN0NkLFVBQVNhLFNBQVdDLGNBQWMsWUFBQyxFQUNuQ2IsTUFBS1ksU0FBV0MsY0FBYyxlQUFDLEVBQy9CWixnQkFBZVcsU0FBV0MsY0FBYyxRQUFDLEVBQ3pDWCxxQkFBb0JVLFNBQVdDLGNBQWMsV0FBQyxFQUM5Q1YsaUJBQWdCUyxTQUFXQyxjQUFjLE9BQUMsRUFDMUNULGVBQWNRLFNBQVdDLGNBQWMscUJBQUMsRUFDeENSLGlCQUFnQk8sU0FBV0MsY0FBYyxzQkFBQyxFQUMxQ1AsZ0JBQWVNLFNBQVdFLHVCQUF1QixnQkFBQyxFQUNsRFAsYUFBWUssU0FBV0MsY0FBYyxnQkFBQyxFQUN0Q0UsUUFBT0MsS0FBT0MsT0FBTyxDQUV0QixFQUdDQyxpQkFBVSxXQUFWQSxTQUNPQyxFQUFQQyxPQUNBUixpQkFBU08sU0FBd0JFLFNBQUUsRUFBbkNULFNBQW9DTyxpQkFBa0IsUUFB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Q2QsRUFBQWUsR0FBQSwrSkFBQSxFQUFBRCxPQUtGZCxFQUFBaUIsS0FBQSxzQkFBQSxFQUdBeEQsVUFBTWtFLFlBQWVyRCxDQUFTc0QsRUFDOUJwQyxjQUFhcUMsQ0FBQUEsRUFFYixDQUVELEVBRUNyQyxlQUFvQixXQUNwQnRCLGtCQUFBTixxQkFBQXFDLFFBQUFyQyxxQkFBQXNDLGVBQUFlLElBRUQsRUFFRWhELGNBQWF5QixTQUFBQSxHQWhDZCxPQWlDT3hCLG1CQWhDTixJQWlDQUQsT0FDRHVELEVBQUE1QixNQUFBNkIsZ0JBQUEsVUFDQSxNQUVELElBQU14QyxTQUNMdUMsRUFBTUQsTUFBR0UsZ0JBQWUsVUFqQ3RCLE1BbUNGLElBQUEsT0FDQUQsRUFBQTVCLE1BQUE2QixnQkFBQSxVQUVEbkQsTUFsQ0UsSUFBSyxPQUNKa0QsRUFBSzVCLE1BQU02QixnQkFBa0IsVUFDN0IsTUFDRCxJQUFLLFFBQ0pELEVBQUs1QixNQUFNNkIsZ0JBQWtCLFNBRS9CLENBQ0QsRUFFTUssV0FBYSxTQUFBZixHQUNsQixJQUFNWSxFQUFlckQsU0FBU3NELGVBQWViLENBQUUsRUFDL0N2QixhQUFhcUMsV0FBV2QsQ0FBRSxFQUMxQnRELFVBQVVzRSxZQUFZSixDQUFZLENBQ25DLEVBRU1yQyxlQUFpQixXQUN0QjdCLFVBQVV1RSxZQUFjLEdBQ3hCeEMsYUFBYXlDLE1BQU0sQ0FDcEIsRUFFTWxELFVBQVksV0FDSSxJQUFqQkQsT0FBT29ELFFBQ1ZqRSxhQUFheUIsVUFBVUMsSUFBSSxjQUFjLEVBRXpDMUIsYUFBYXlCLFVBQVVVLE9BQU8sY0FBYyxDQUU5QyxFQUVNbkIsWUFBYyxTQUFBRCxHQUNMLFdBQVZBLEVBQUV1QyxLQUNMekIsV0FBVyxDQUViLEVBRUF4QixTQUFTTyxpQkFBaUIsbUJBQW9CVCxJQUFJIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IEJPRFlcclxubGV0IE5BVl9BRERfQlROXHJcbmxldCBOQVZfREVMRVRFX0FMTF9CVE5cclxubGV0IERBVEFfSU5GT19QT1BVUFxyXG5sZXQgREFUQV9JTkZPX1BPUFVQX0JUTlxyXG5sZXQgTk9URV9BUkVBXHJcbmxldCBQT1BVUFxyXG5sZXQgUE9QVVBfQ09OVEFJTkVSXHJcbmxldCBQT1BVUF9DQVRFR09SWV9JTlBVVFxyXG5sZXQgUE9QVVBfVEVYVF9JTlBVVFxyXG5sZXQgUE9QVVBfU0FWRV9CVE5cclxubGV0IFBPUFVQX0NBTkNFTF9CVE5cclxubGV0IE5PVEVfREVMRVRFX0JUTlxyXG5sZXQgUkVUVVJOX0FSUk9XXHJcbmxldCBDQVJEX0lEXHJcbmxldCBTRUxFQ1RFRF9DQVRFR09SWVxyXG5cclxuY29uc3QgbWFpbiA9ICgpID0+IHtcclxuXHRwcmVwYXJlRE9NRWxlbWVudHMoKVxyXG5cdHByZXBhcmVET01FdmVudHMoKVxyXG59XHJcblxyXG5jb25zdCBwcmVwYXJlRE9NRWxlbWVudHMgPSAoKSA9PiB7XHJcblx0Qk9EWSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKVxyXG5cdE5BVl9BRERfQlROID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdl9fYnV0dG9uLWFkZCcpXHJcblx0TkFWX0RFTEVURV9BTExfQlROID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdl9fYnV0dG9uLWRlbGV0ZWFsbCcpXHJcblx0REFUQV9JTkZPX1BPUFVQID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRhdGEtaW5mby1wb3B1cCcpXHJcblx0REFUQV9JTkZPX1BPUFVQX0JUTiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kYXRhLWluZm8tcG9wdXBfX2J0bicpXHJcblx0Tk9URV9BUkVBID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5vdGUtYXJlYScpXHJcblx0UE9QVVAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAtc2hhZG93JylcclxuXHRQT1BVUF9DT05UQUlORVIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAnKVxyXG5cdFBPUFVQX0NBVEVHT1JZX0lOUFVUID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NhdGVnb3J5JylcclxuXHRQT1BVUF9URVhUX0lOUFVUID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RleHQnKVxyXG5cdFBPUFVQX1NBVkVfQlROID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19idXR0b24tc2F2ZScpXHJcblx0UE9QVVBfQ0FOQ0VMX0JUTiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYnV0dG9uLWNsb3NlJylcclxuXHROT1RFX0RFTEVURV9CVE4gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdub3RlY2FyZF9faWNvbicpXHJcblx0UkVUVVJOX0FSUk9XID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJldHVybl9fYXJyb3cnKVxyXG5cdENBUkRfSUQgPSBNYXRoLnJhbmRvbSgpXHJcblx0U0VMRUNURURfQ0FURUdPUllcclxufVxyXG5cclxuY29uc3QgcHJlcGFyZURPTUV2ZW50cyA9ICgpID0+IHtcclxuXHRvbGROb3RlcygpXHJcblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHNob3dBcnJvdylcclxuXHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGUgPT4gZXNjYXBlQ2hlY2soZSkpXHJcblx0REFUQV9JTkZPX1BPUFVQX0JUTi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZURhdGFJbmZvUG9wdXApXHJcblx0UE9QVVAuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBjaGVja0J0bilcclxuXHRQT1BVUC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNoZWNrQnRuKVxyXG5cdE5BVl9BRERfQlROLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2hvd1BvcHVwKVxyXG5cdE5BVl9ERUxFVEVfQUxMX0JUTi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGRlbGV0ZUFsbE5vdGVzKVxyXG5cdFBPUFVQX1NBVkVfQlROLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY3JlYXRlTm90ZSlcclxuXHRQT1BVUF9DQU5DRUxfQlROLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VQb3B1cClcclxuXHRzaG93RGF0YUluZm9Qb3B1cCgpXHJcbn1cclxuXHJcbmNvbnN0IHNob3dEYXRhSW5mb1BvcHVwID0gKCkgPT4ge1xyXG5cdGNvbnN0IGNvb2tpZUl0ZW0gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY29va2llJylcclxuXHRpZiAoY29va2llSXRlbSkge1xyXG5cdFx0REFUQV9JTkZPX1BPUFVQLmNsYXNzTGlzdC5hZGQoJ2RhdGEtaW5mby1wb3B1cC0taW5hY3RpdmUnKVxyXG5cdH1cclxufVxyXG5cclxuY29uc3QgaGFuZGxlRGF0YUluZm9Qb3B1cCA9ICgpID0+IHtcclxuXHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY29va2llJywgJ3RydWUnKVxyXG5cdERBVEFfSU5GT19QT1BVUC5jbGFzc0xpc3QuYWRkKCdkYXRhLWluZm8tcG9wdXAtLWluYWN0aXZlJylcclxufVxyXG5cclxuY29uc3Qgc2hvd1BvcHVwID0gKCkgPT4ge1xyXG5cdFBPUFVQLnN0eWxlLmRpc3BsYXkgPSAnZmxleCdcclxuXHRCT0RZLmNsYXNzTGlzdC5hZGQoJ3Njcm9sbC1ibG9jaycpXHJcbn1cclxuXHJcbmNvbnN0IGNsb3NlUG9wdXAgPSAoKSA9PiB7XHJcblx0Y2xlYXJQb3B1cCgpXHJcblx0UE9QVVAuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG59XHJcblxyXG5jb25zdCBjaGVja0J0biA9ICgpID0+IHtcclxuXHRpZiAoUE9QVVBfVEVYVF9JTlBVVC52YWx1ZSAhPT0gJycgJiYgUE9QVVBfQ0FURUdPUllfSU5QVVQub3B0aW9uc1tQT1BVUF9DQVRFR09SWV9JTlBVVC5zZWxlY3RlZEluZGV4XS52YWx1ZSAhPT0gJzAnKSB7XHJcblx0XHRQT1BVUF9TQVZFX0JUTi5kaXNhYmxlZCA9IGZhbHNlXHJcblx0fSBlbHNlIHtcclxuXHRcdFBPUFVQX1NBVkVfQlROLmRpc2FibGVkID0gdHJ1ZVxyXG5cdH1cclxufVxyXG5cclxuY29uc3QgY2xlYXJQb3B1cCA9ICgpID0+IHtcclxuXHRQT1BVUF9DT05UQUlORVIuc2Nyb2xsVG8oMCwgMClcclxuXHRQT1BVUF9URVhUX0lOUFVULnN0eWxlLmhlaWdodCA9ICcyMDBweCdcclxuXHRQT1BVUF9DQVRFR09SWV9JTlBVVC5zZWxlY3RlZEluZGV4ID0gMFxyXG5cdFBPUFVQX1RFWFRfSU5QVVQudmFsdWUgPSAnJ1xyXG5cdFBPUFVQX1NBVkVfQlROLmRpc2FibGVkID0gdHJ1ZVxyXG5cdEJPRFkuY2xhc3NMaXN0LnJlbW92ZSgnc2Nyb2xsLWJsb2NrJylcclxufVxyXG5cclxuY29uc3QgY3JlYXRlTm90ZSA9ICgpID0+IHtcclxuXHRjb25zdCBuZXdOb3RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKVxyXG5cdG5ld05vdGUuY2xhc3NMaXN0LmFkZCgnbm90ZWNhcmQnKVxyXG5cdG5ld05vdGUuc2V0QXR0cmlidXRlKCdpZCcsIENBUkRfSUQpXHJcblx0bmV3Tm90ZS5zZXRBdHRyaWJ1dGUoJ2NhdGVnb3J5JywgU0VMRUNURURfQ0FURUdPUlkpXHJcblx0bmV3Tm90ZS5zZXRBdHRyaWJ1dGUoJ3RleHQnLCBQT1BVUF9URVhUX0lOUFVULnZhbHVlKVxyXG5cdG5ld05vdGUuaW5uZXJIVE1MID0gYFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJub3RlY2FyZF9faGVhZGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzcz1cIm5vdGVjYXJkX190aXRsZVwiPiR7U0VMRUNURURfQ0FURUdPUll9PC9oMz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cIm5vdGVjYXJkX19pY29uXCIgb25jbGljaz1cImRlbGV0ZU5vdGUoJHtDQVJEX0lEfSlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiZmFzIGZhLXRpbWVzIGljb25cIj48L2k+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJub3RlY2FyZF9fYm9keVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAke1BPUFVQX1RFWFRfSU5QVVQudmFsdWV9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+YFxyXG5cdE5PVEVfQVJFQS5hcHBlbmRDaGlsZChuZXdOb3RlKVxyXG5cdGNoZWNrQ2F0ZWdvcnkobmV3Tm90ZSlcclxuXHRDQVJEX0lEKytcclxuXHRjbG9zZVBvcHVwKClcclxuXHJcblx0Y29uc3QgbG9jYWxTdG9yYWdlRGF0YSA9IHtcclxuXHRcdGlkOiBuZXdOb3RlLmdldEF0dHJpYnV0ZSgnaWQnKSxcclxuXHRcdGNhdGVnb3J5OiBuZXdOb3RlLmdldEF0dHJpYnV0ZSgnY2F0ZWdvcnknKSxcclxuXHRcdHRleHQ6IG5ld05vdGUuZ2V0QXR0cmlidXRlKCd0ZXh0JyksXHJcblx0fVxyXG5cclxuXHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShgJHtsb2NhbFN0b3JhZ2VEYXRhLmlkfWAsIEpTT04uc3RyaW5naWZ5KGxvY2FsU3RvcmFnZURhdGEpKVxyXG59XHJcblxyXG5jb25zdCBvbGROb3RlcyA9ICgpID0+IHtcclxuXHRmb3IgKGxldCBpID0gMDsgaSA8IGxvY2FsU3RvcmFnZS5sZW5ndGg7IGkrKykge1xyXG5cdFx0bGV0IGtleSA9IGxvY2FsU3RvcmFnZS5rZXkoaSlcclxuXHRcdGxldCB2YWx1ZSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KSlcclxuXHJcblx0XHRpZiAoa2V5ICE9PSAnY29va2llJykge1xyXG5cdFx0XHRjb25zdCBvbGROb3RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKVxyXG5cdFx0XHRvbGROb3RlLmNsYXNzTGlzdC5hZGQoJ25vdGVjYXJkJylcclxuXHRcdFx0b2xkTm90ZS5zZXRBdHRyaWJ1dGUoJ2lkJywgdmFsdWUuaWQpXHJcblx0XHRcdFNFTEVDVEVEX0NBVEVHT1JZID0gdmFsdWUuY2F0ZWdvcnlcclxuXHRcdFx0b2xkTm90ZS5pbm5lckhUTUwgPSBgXHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJub3RlY2FyZF9faGVhZGVyXCI+XHJcblx0XHRcdFx0XHRcdFx0PGgzIGNsYXNzPVwibm90ZWNhcmRfX3RpdGxlXCI+JHtTRUxFQ1RFRF9DQVRFR09SWX08L2gzPlxyXG5cdFx0XHRcdFx0XHRcdDxidXR0b24gY2xhc3M9XCJub3RlY2FyZF9faWNvblwiIG9uY2xpY2s9XCJkZWxldGVOb3RlKCR7dmFsdWUuaWR9KVwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0PGkgY2xhc3M9XCJmYXMgZmEtdGltZXMgaWNvblwiPjwvaT5cclxuXHRcdFx0XHRcdFx0XHQ8L2J1dHRvbj5cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJub3RlY2FyZF9fYm9keVwiPlxyXG5cdFx0XHRcdFx0XHRcdCR7dmFsdWUudGV4dH1cclxuXHRcdFx0XHRcdFx0PC9kaXY+YFxyXG5cdFx0XHROT1RFX0FSRUEuYXBwZW5kQ2hpbGQob2xkTm90ZSlcclxuXHRcdFx0Y2hlY2tDYXRlZ29yeShvbGROb3RlKVxyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuY29uc3Qgc2VsZWN0Q2F0ZWdvcnkgPSAoKSA9PiB7XHJcblx0U0VMRUNURURfQ0FURUdPUlkgPSBQT1BVUF9DQVRFR09SWV9JTlBVVC5vcHRpb25zW1BPUFVQX0NBVEVHT1JZX0lOUFVULnNlbGVjdGVkSW5kZXhdLnRleHRcclxufVxyXG5cclxuY29uc3QgY2hlY2tDYXRlZ29yeSA9IG5vdGUgPT4ge1xyXG5cdHN3aXRjaCAoU0VMRUNURURfQ0FURUdPUlkpIHtcclxuXHRcdGNhc2UgJ1dvcmsnOlxyXG5cdFx0XHRub3RlLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjZGYyYjIwJ1xyXG5cdFx0XHRicmVha1xyXG5cdFx0Y2FzZSAnU2Nob29sJzpcclxuXHRcdFx0bm90ZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI2Q4YjEyNydcclxuXHRcdFx0YnJlYWtcclxuXHRcdGNhc2UgJ0hvbWUnOlxyXG5cdFx0XHRub3RlLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjNmFiYzQzJ1xyXG5cdFx0XHRicmVha1xyXG5cdFx0Y2FzZSAnU2hvcCc6XHJcblx0XHRcdG5vdGUuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyM0ZThhYjEnXHJcblx0XHRcdGJyZWFrXHJcblx0XHRjYXNlICdPdGhlcic6XHJcblx0XHRcdG5vdGUuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyM3MThlOGInXHJcblx0XHRcdGJyZWFrXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBkZWxldGVOb3RlID0gaWQgPT4ge1xyXG5cdGNvbnN0IG5vdGVUb0RlbGV0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKVxyXG5cdGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGlkKVxyXG5cdE5PVEVfQVJFQS5yZW1vdmVDaGlsZChub3RlVG9EZWxldGUpXHJcbn1cclxuXHJcbmNvbnN0IGRlbGV0ZUFsbE5vdGVzID0gKCkgPT4ge1xyXG5cdE5PVEVfQVJFQS50ZXh0Q29udGVudCA9ICcnXHJcblx0bG9jYWxTdG9yYWdlLmNsZWFyKClcclxufVxyXG5cclxuY29uc3Qgc2hvd0Fycm93ID0gKCkgPT4ge1xyXG5cdGlmICh3aW5kb3cuc2Nyb2xsWSA+IDEwMCkge1xyXG5cdFx0UkVUVVJOX0FSUk9XLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZS1hcnJvdycpXHJcblx0fSBlbHNlIHtcclxuXHRcdFJFVFVSTl9BUlJPVy5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUtYXJyb3cnKVxyXG5cdH1cclxufVxyXG5cclxuY29uc3QgZXNjYXBlQ2hlY2sgPSBlID0+IHtcclxuXHRpZiAoZS5rZXkgPT09ICdFc2NhcGUnKSB7XHJcblx0XHRjbG9zZVBvcHVwKClcclxuXHR9XHJcbn1cclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBtYWluKVxyXG4iXX0=
