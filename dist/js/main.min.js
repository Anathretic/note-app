"use strict";var BODY,NAV_ADD_BTN,NAV_DELETE_ALL_BTN,NOTE_AREA,POPUP,POPUP_CATEGORY_INPUT,POPUP_TEXT_INPUT,POPUP_SAVE_BTN,POPUP_CANCEL_BTN,NOTE_DELETE_BTN,RETURN_ARROW,CARD_ID,SELECTED_CATEGORY,main=function(){prepareDOMElements(),prepareDOMEvents()},prepareDOMElements=function(){BODY=document.querySelector("body"),NAV_ADD_BTN=document.querySelector(".nav__button-add"),NAV_DELETE_ALL_BTN=document.querySelector(".nav__button-deleteall"),NOTE_AREA=document.querySelector(".note-area"),POPUP=document.querySelector(".popup-shadow"),POPUP_CATEGORY_INPUT=document.querySelector("#category"),POPUP_TEXT_INPUT=document.querySelector("#text"),POPUP_SAVE_BTN=document.querySelector(".popup__button-save"),POPUP_CANCEL_BTN=document.querySelector(".popup__button-close"),NOTE_DELETE_BTN=document.getElementsByClassName("notecard__icon"),RETURN_ARROW=document.querySelector(".return__arrow"),CARD_ID=Math.random()},prepareDOMEvents=function(){oldNotes(),window.addEventListener("scroll",showArrow),document.addEventListener("keyup",function(t){return escapeCheck(t)}),POPUP.addEventListener("keyup",checkBtn),POPUP.addEventListener("click",checkBtn),NAV_ADD_BTN.addEventListener("click",showPopup),NAV_DELETE_ALL_BTN.addEventListener("click",deleteAllNotes),POPUP_SAVE_BTN.addEventListener("click",createNote),POPUP_CANCEL_BTN.addEventListener("click",closePopup)},showPopup=function(){POPUP.style.display="flex",BODY.classList.add("scroll-block")},closePopup=function(){POPUP.style.display="none",clearPopup()},checkBtn=function(){""!==POPUP_TEXT_INPUT.value&&"0"!==POPUP_CATEGORY_INPUT.options[POPUP_CATEGORY_INPUT.selectedIndex].value?POPUP_SAVE_BTN.disabled=!1:POPUP_SAVE_BTN.disabled=!0},clearPopup=function(){POPUP_CATEGORY_INPUT.selectedIndex=0,POPUP_TEXT_INPUT.value="",POPUP_SAVE_BTN.disabled=!0,BODY.classList.remove("scroll-block")},createNote=function(){var t=document.createElement("li"),t=(t.classList.add("notecard"),t.setAttribute("id",CARD_ID),t.setAttribute("category",SELECTED_CATEGORY),t.setAttribute("text",POPUP_TEXT_INPUT.value),t.innerHTML='\n                    <div class="notecard__header">\n                        <h3 class="notecard__title">'.concat(SELECTED_CATEGORY,'</h3>\n                        <button class="notecard__icon" onclick="deleteNote(').concat(CARD_ID,')">\n                            <i class="fas fa-times icon"></i>\n                        </button>\n                    </div>\n                    <div class="notecard__body">\n                        ').concat(POPUP_TEXT_INPUT.value,"\n                    </div>"),NOTE_AREA.appendChild(t),checkCategory(t),CARD_ID++,closePopup(),{id:t.getAttribute("id"),category:t.getAttribute("category"),text:t.getAttribute("text")});localStorage.setItem("".concat(t.id),JSON.stringify(t))},oldNotes=function(){for(var t=0;t<localStorage.length;t++){var e=localStorage.key(t),e=JSON.parse(localStorage.getItem(e)),o=document.createElement("li");o.classList.add("notecard"),o.setAttribute("id",e.id),SELECTED_CATEGORY=e.category,o.innerHTML='\n\t\t\t\t\t\t<div class="notecard__header">\n\t\t\t\t\t\t\t<h3 class="notecard__title">'.concat(SELECTED_CATEGORY,'</h3>\n\t\t\t\t\t\t\t<button class="notecard__icon" onclick="deleteNote(').concat(e.id,')">\n\t\t\t\t\t\t\t\t<i class="fas fa-times icon"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="notecard__body">\n\t\t\t\t\t\t\t').concat(e.text,"\n\t\t\t\t\t\t</div>"),NOTE_AREA.appendChild(o),checkCategory(o)}},selectCategory=function(){SELECTED_CATEGORY=POPUP_CATEGORY_INPUT.options[POPUP_CATEGORY_INPUT.selectedIndex].text},checkCategory=function(t){switch(SELECTED_CATEGORY){case"Work":t.style.backgroundColor="#df2b20";break;case"School":t.style.backgroundColor="#d8b127";break;case"Home":t.style.backgroundColor="#6abc43";break;case"Shop":t.style.backgroundColor="#4e8ab1";break;case"Other":t.style.backgroundColor="#718e8b"}},deleteNote=function(t){var e=document.getElementById(t);localStorage.removeItem(t),NOTE_AREA.removeChild(e)},deleteAllNotes=function(){NOTE_AREA.textContent="",localStorage.clear()},showArrow=function(){100<window.scrollY?RETURN_ARROW.classList.add("active-arrow"):RETURN_ARROW.classList.remove("active-arrow")},escapeCheck=function(t){"Escape"===t.key&&closePopup()};document.addEventListener("DOMContentLoaded",main);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiQk9EWSIsIk5BVl9BRERfQlROIiwiTkFWX0RFTEVURV9BTExfQlROIiwiTk9URV9BUkVBIiwiUE9QVVAiLCJQT1BVUF9DQVRFR09SWV9JTlBVVCIsIlBPUFVQX1RFWFRfSU5QVVQiLCJQT1BVUF9TQVZFX0JUTiIsIlBPUFVQX0NBTkNFTF9CVE4iLCJOT1RFX0RFTEVURV9CVE4iLCJSRVRVUk5fQVJST1ciLCJTRUxFQ1RFRF9DQVRFR09SWSIsInByZXBhcmVET01FbGVtZW50cyIsIm1haW4iLCJwcmVwYXJlRE9NRXZlbnRzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsIkNBUkRfSUQiLCJNYXRoIiwicmFuZG9tIiwib2xkTm90ZXMiLCJhZGRFdmVudExpc3RlbmVyIiwid2luZG93Iiwic2hvd0Fycm93IiwiZSIsImVzY2FwZUNoZWNrIiwiY2hlY2tCdG4iLCJzaG93UG9wdXAiLCJjcmVhdGVOb3RlIiwiZGVsZXRlQWxsTm90ZXMiLCJzdHlsZSIsImRpc3BsYXkiLCJjbGFzc0xpc3QiLCJhZGQiLCJjbGVhclBvcHVwIiwidmFsdWUiLCJvcHRpb25zIiwic2VsZWN0ZWRJbmRleCIsImRpc2FibGVkIiwicmVtb3ZlIiwibmV3Tm90ZSIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJhcHBlbmRDaGlsZCIsImNoZWNrQ2F0ZWdvcnkiLCJjbG9zZVBvcHVwIiwiY29uY2F0IiwibG9jYWxTdG9yYWdlIiwicGFyc2UiLCJvbGROb3RlIiwiaWQiLCJpbm5lckhUTUwiLCJjYXRlZ29yeSIsInRleHQiLCJzZWxlY3RDYXRlZ29yeSIsImxvY2FsU3RvcmFnZURhdGEiLCJKU09OIiwic3RyaW5naWZ5IiwibGVuZ3RoIiwiaSIsImtleSIsIm5vdGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJnZXRJdGVtIiwiZGVsZXRlTm90ZSIsIm5vdGVUb0RlbGV0ZSIsInRleHRDb250ZW50Iiwi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V0FBV2xCLENBQUUsRUFDMUJoRCxVQUFVbUUsWUFBWUosQ0FBWSxDQUNuQyxFQUVNcEMsZUFBaUIsV0FDdEIzQixVQUFVZ0UsWUFBYyxHQUN4Qm5CLGFBQWF1QixNQUFNLENBQ3BCLEVBRU0vQyxVQUFZLFdBQ0ksSUFBakJELE9BQU9pRCxRQUNWOUQsYUFBYXVCLFVBQVVDLElBQUksY0FBYyxFQUV6Q3hCLGFBQWF1QixVQUFVTyxPQUFPLGNBQWMsQ0FFOUMsRUFFTWQsWUFBYyxTQUFBRCxHQUNMLFdBQVZBLEVBQUVvQyxLQUNMZixXQUFXLENBRWIsRUFFQS9CLFNBQVNPLGlCQUFpQixtQkFBb0JULElBQUkiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgQk9EWVxyXG5sZXQgTkFWX0FERF9CVE5cclxubGV0IE5BVl9ERUxFVEVfQUxMX0JUTlxyXG5sZXQgTk9URV9BUkVBXHJcbmxldCBQT1BVUFxyXG5sZXQgUE9QVVBfQ0FURUdPUllfSU5QVVRcclxubGV0IFBPUFVQX1RFWFRfSU5QVVRcclxubGV0IFBPUFVQX1NBVkVfQlROXHJcbmxldCBQT1BVUF9DQU5DRUxfQlROXHJcbmxldCBOT1RFX0RFTEVURV9CVE5cclxubGV0IFJFVFVSTl9BUlJPV1xyXG5sZXQgQ0FSRF9JRFxyXG5sZXQgU0VMRUNURURfQ0FURUdPUllcclxuXHJcbmNvbnN0IG1haW4gPSAoKSA9PiB7XHJcblx0cHJlcGFyZURPTUVsZW1lbnRzKClcclxuXHRwcmVwYXJlRE9NRXZlbnRzKClcclxufVxyXG5cclxuY29uc3QgcHJlcGFyZURPTUVsZW1lbnRzID0gKCkgPT4ge1xyXG5cdEJPRFkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JylcclxuXHROQVZfQUREX0JUTiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZfX2J1dHRvbi1hZGQnKVxyXG5cdE5BVl9ERUxFVEVfQUxMX0JUTiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZfX2J1dHRvbi1kZWxldGVhbGwnKVxyXG5cdE5PVEVfQVJFQSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ub3RlLWFyZWEnKVxyXG5cdFBPUFVQID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwLXNoYWRvdycpXHJcblx0UE9QVVBfQ0FURUdPUllfSU5QVVQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2F0ZWdvcnknKVxyXG5cdFBPUFVQX1RFWFRfSU5QVVQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdGV4dCcpXHJcblx0UE9QVVBfU0FWRV9CVE4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2J1dHRvbi1zYXZlJylcclxuXHRQT1BVUF9DQU5DRUxfQlROID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19idXR0b24tY2xvc2UnKVxyXG5cdE5PVEVfREVMRVRFX0JUTiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ25vdGVjYXJkX19pY29uJylcclxuXHRSRVRVUk5fQVJST1cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmV0dXJuX19hcnJvdycpXHJcblx0Q0FSRF9JRCA9IE1hdGgucmFuZG9tKClcclxuXHRTRUxFQ1RFRF9DQVRFR09SWVxyXG59XHJcblxyXG5jb25zdCBwcmVwYXJlRE9NRXZlbnRzID0gKCkgPT4ge1xyXG5cdG9sZE5vdGVzKClcclxuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgc2hvd0Fycm93KVxyXG5cdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZSA9PiBlc2NhcGVDaGVjayhlKSlcclxuXHRQT1BVUC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGNoZWNrQnRuKVxyXG5cdFBPUFVQLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2hlY2tCdG4pXHJcblx0TkFWX0FERF9CVE4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaG93UG9wdXApXHJcblx0TkFWX0RFTEVURV9BTExfQlROLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZGVsZXRlQWxsTm90ZXMpXHJcblx0UE9QVVBfU0FWRV9CVE4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjcmVhdGVOb3RlKVxyXG5cdFBPUFVQX0NBTkNFTF9CVE4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVBvcHVwKVxyXG59XHJcblxyXG5jb25zdCBzaG93UG9wdXAgPSAoKSA9PiB7XHJcblx0UE9QVVAuc3R5bGUuZGlzcGxheSA9ICdmbGV4J1xyXG5cdEJPRFkuY2xhc3NMaXN0LmFkZCgnc2Nyb2xsLWJsb2NrJylcclxufVxyXG5cclxuY29uc3QgY2xvc2VQb3B1cCA9ICgpID0+IHtcclxuXHRQT1BVUC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcblx0Y2xlYXJQb3B1cCgpXHJcbn1cclxuXHJcbmNvbnN0IGNoZWNrQnRuID0gKCkgPT4ge1xyXG5cdGlmIChQT1BVUF9URVhUX0lOUFVULnZhbHVlICE9PSAnJyAmJiBQT1BVUF9DQVRFR09SWV9JTlBVVC5vcHRpb25zW1BPUFVQX0NBVEVHT1JZX0lOUFVULnNlbGVjdGVkSW5kZXhdLnZhbHVlICE9PSAnMCcpIHtcclxuXHRcdFBPUFVQX1NBVkVfQlROLmRpc2FibGVkID0gZmFsc2VcclxuXHR9IGVsc2Uge1xyXG5cdFx0UE9QVVBfU0FWRV9CVE4uZGlzYWJsZWQgPSB0cnVlXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBjbGVhclBvcHVwID0gKCkgPT4ge1xyXG5cdFBPUFVQX0NBVEVHT1JZX0lOUFVULnNlbGVjdGVkSW5kZXggPSAwXHJcblx0UE9QVVBfVEVYVF9JTlBVVC52YWx1ZSA9ICcnXHJcblx0UE9QVVBfU0FWRV9CVE4uZGlzYWJsZWQgPSB0cnVlXHJcblx0Qk9EWS5jbGFzc0xpc3QucmVtb3ZlKCdzY3JvbGwtYmxvY2snKVxyXG59XHJcblxyXG5jb25zdCBjcmVhdGVOb3RlID0gKCkgPT4ge1xyXG5cdGNvbnN0IG5ld05vdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpXHJcblx0bmV3Tm90ZS5jbGFzc0xpc3QuYWRkKCdub3RlY2FyZCcpXHJcblx0bmV3Tm90ZS5zZXRBdHRyaWJ1dGUoJ2lkJywgQ0FSRF9JRClcclxuXHRuZXdOb3RlLnNldEF0dHJpYnV0ZSgnY2F0ZWdvcnknLCBTRUxFQ1RFRF9DQVRFR09SWSlcclxuXHRuZXdOb3RlLnNldEF0dHJpYnV0ZSgndGV4dCcsIFBPUFVQX1RFWFRfSU5QVVQudmFsdWUpXHJcblx0bmV3Tm90ZS5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm5vdGVjYXJkX19oZWFkZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzPVwibm90ZWNhcmRfX3RpdGxlXCI+JHtTRUxFQ1RFRF9DQVRFR09SWX08L2gzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwibm90ZWNhcmRfX2ljb25cIiBvbmNsaWNrPVwiZGVsZXRlTm90ZSgke0NBUkRfSUR9KVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXMgZmEtdGltZXMgaWNvblwiPjwvaT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm5vdGVjYXJkX19ib2R5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR7UE9QVVBfVEVYVF9JTlBVVC52YWx1ZX1cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5gXHJcblx0Tk9URV9BUkVBLmFwcGVuZENoaWxkKG5ld05vdGUpXHJcblx0Y2hlY2tDYXRlZ29yeShuZXdOb3RlKVxyXG5cdENBUkRfSUQrK1xyXG5cdGNsb3NlUG9wdXAoKVxyXG5cclxuXHRjb25zdCBsb2NhbFN0b3JhZ2VEYXRhID0ge1xyXG5cdFx0aWQ6IG5ld05vdGUuZ2V0QXR0cmlidXRlKCdpZCcpLFxyXG5cdFx0Y2F0ZWdvcnk6IG5ld05vdGUuZ2V0QXR0cmlidXRlKCdjYXRlZ29yeScpLFxyXG5cdFx0dGV4dDogbmV3Tm90ZS5nZXRBdHRyaWJ1dGUoJ3RleHQnKSxcclxuXHR9XHJcblxyXG5cdGxvY2FsU3RvcmFnZS5zZXRJdGVtKGAke2xvY2FsU3RvcmFnZURhdGEuaWR9YCwgSlNPTi5zdHJpbmdpZnkobG9jYWxTdG9yYWdlRGF0YSkpXHJcbn1cclxuXHJcbmNvbnN0IG9sZE5vdGVzID0gKCkgPT4ge1xyXG5cdGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYWxTdG9yYWdlLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRsZXQga2V5ID0gbG9jYWxTdG9yYWdlLmtleShpKVxyXG5cdFx0bGV0IHZhbHVlID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpKVxyXG5cclxuXHRcdGNvbnN0IG9sZE5vdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpXHJcblx0XHRvbGROb3RlLmNsYXNzTGlzdC5hZGQoJ25vdGVjYXJkJylcclxuXHRcdG9sZE5vdGUuc2V0QXR0cmlidXRlKCdpZCcsIHZhbHVlLmlkKVxyXG5cdFx0U0VMRUNURURfQ0FURUdPUlkgPSB2YWx1ZS5jYXRlZ29yeVxyXG5cdFx0b2xkTm90ZS5pbm5lckhUTUwgPSBgXHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJub3RlY2FyZF9faGVhZGVyXCI+XHJcblx0XHRcdFx0XHRcdFx0PGgzIGNsYXNzPVwibm90ZWNhcmRfX3RpdGxlXCI+JHtTRUxFQ1RFRF9DQVRFR09SWX08L2gzPlxyXG5cdFx0XHRcdFx0XHRcdDxidXR0b24gY2xhc3M9XCJub3RlY2FyZF9faWNvblwiIG9uY2xpY2s9XCJkZWxldGVOb3RlKCR7dmFsdWUuaWR9KVwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0PGkgY2xhc3M9XCJmYXMgZmEtdGltZXMgaWNvblwiPjwvaT5cclxuXHRcdFx0XHRcdFx0XHQ8L2J1dHRvbj5cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJub3RlY2FyZF9fYm9keVwiPlxyXG5cdFx0XHRcdFx0XHRcdCR7dmFsdWUudGV4dH1cclxuXHRcdFx0XHRcdFx0PC9kaXY+YFxyXG5cdFx0Tk9URV9BUkVBLmFwcGVuZENoaWxkKG9sZE5vdGUpXHJcblx0XHRjaGVja0NhdGVnb3J5KG9sZE5vdGUpXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBzZWxlY3RDYXRlZ29yeSA9ICgpID0+IHtcclxuXHRTRUxFQ1RFRF9DQVRFR09SWSA9IFBPUFVQX0NBVEVHT1JZX0lOUFVULm9wdGlvbnNbUE9QVVBfQ0FURUdPUllfSU5QVVQuc2VsZWN0ZWRJbmRleF0udGV4dFxyXG59XHJcblxyXG5jb25zdCBjaGVja0NhdGVnb3J5ID0gbm90ZSA9PiB7XHJcblx0c3dpdGNoIChTRUxFQ1RFRF9DQVRFR09SWSkge1xyXG5cdFx0Y2FzZSAnV29yayc6XHJcblx0XHRcdG5vdGUuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNkZjJiMjAnXHJcblx0XHRcdGJyZWFrXHJcblx0XHRjYXNlICdTY2hvb2wnOlxyXG5cdFx0XHRub3RlLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjZDhiMTI3J1xyXG5cdFx0XHRicmVha1xyXG5cdFx0Y2FzZSAnSG9tZSc6XHJcblx0XHRcdG5vdGUuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyM2YWJjNDMnXHJcblx0XHRcdGJyZWFrXHJcblx0XHRjYXNlICdTaG9wJzpcclxuXHRcdFx0bm90ZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnIzRlOGFiMSdcclxuXHRcdFx0YnJlYWtcclxuXHRcdGNhc2UgJ090aGVyJzpcclxuXHRcdFx0bm90ZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnIzcxOGU4YidcclxuXHRcdFx0YnJlYWtcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IGRlbGV0ZU5vdGUgPSBpZCA9PiB7XHJcblx0Y29uc3Qgbm90ZVRvRGVsZXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpXHJcblx0bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oaWQpXHJcblx0Tk9URV9BUkVBLnJlbW92ZUNoaWxkKG5vdGVUb0RlbGV0ZSlcclxufVxyXG5cclxuY29uc3QgZGVsZXRlQWxsTm90ZXMgPSAoKSA9PiB7XHJcblx0Tk9URV9BUkVBLnRleHRDb250ZW50ID0gJydcclxuXHRsb2NhbFN0b3JhZ2UuY2xlYXIoKVxyXG59XHJcblxyXG5jb25zdCBzaG93QXJyb3cgPSAoKSA9PiB7XHJcblx0aWYgKHdpbmRvdy5zY3JvbGxZID4gMTAwKSB7XHJcblx0XHRSRVRVUk5fQVJST1cuY2xhc3NMaXN0LmFkZCgnYWN0aXZlLWFycm93JylcclxuXHR9IGVsc2Uge1xyXG5cdFx0UkVUVVJOX0FSUk9XLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZS1hcnJvdycpXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBlc2NhcGVDaGVjayA9IGUgPT4ge1xyXG5cdGlmIChlLmtleSA9PT0gJ0VzY2FwZScpIHtcclxuXHRcdGNsb3NlUG9wdXAoKVxyXG5cdH1cclxufVxyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIG1haW4pXHJcbiJdfQ==
